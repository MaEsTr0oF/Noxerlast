{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/data/fakeData.ts"],"sourcesContent":["export interface ProjectDataType {\n  categories: {\n    Category_ID: number;\n    Category_Image: string;\n    Category_Name: string;\n  }[];\n  product_marks: {\n    Mark_ID: number;\n    Mark_Name: string;\n  }[];\n  overall_product_tags_by_category: {\n    [key: string]: {\n      [key: string]: number;\n    };\n  };\n  products: {\n    Created_At: string;\n    OnMain: boolean;\n    Product_ID: number;\n    Product_Name: string;\n    Updated_At: string | null;\n    categories: {\n      Category_ID: number;\n      Category_Image: string;\n      Category_Name: string;\n    }[];\n    colors: {\n      Color_ID: number;\n      Color_Name: string;\n      Color_Code: string;\n      Color_image: string | null;\n      Product_ID: number;\n      discount: number | null;\n    }[];\n    extras: {\n      Characteristics: string;\n      Delivery: string;\n      Kit: string;\n      Offer: string;\n      Product_Extra_ID: number;\n      Product_ID: number;\n    }[];\n    images: {\n      Image_ID: number;\n      Image_URL: string;\n      MainImage: boolean | null;\n      Product_ID: number;\n    }[];\n    importance_num: number | null;\n    marks: {\n      Mark_ID: number;\n      Mark_Name: string;\n    }[];\n    parameters: {\n      Parameter_ID: number;\n      chosen: boolean;\n      disabled: boolean;\n      extra_field_color: string | null;\n      extra_field_image: string | null;\n      name: string;\n      old_price: number | null;\n      parameter_string: string;\n      price: number;\n    }[];\n    reviews?: {\n      Photo_ID: number;\n      Photo_URL: string;\n      Product_ID: number;\n    }[];\n    reviews_video?: {\n      Poster_URL: string;\n      Product_ID: number;\n      Video_ID: number;\n      Video_URL: string;\n    }[];\n  }[];\n  special_project_parameters?: {\n    [key: string]: string | null;\n  };\n  special_project_parameters_actions?: {\n    id: number;\n    action_type: string;\n    description: string | null;\n    extra_field_1: string | null;\n    extra_field_2: string | null;\n    image_url: string;\n  }[];\n  special_project_parameters_badges?: {\n    id: number;\n    description: string | null;\n    image_url: string;\n    url: string;\n  }[];\n  status?: string;\n}\n\nfunction validateProduct(product: any): any {\n  if (!product || typeof product !== \"object\") {\n    console.error(\"Невалидные данные продукта:\", product);\n    return null;\n  }\n\n  if (!product.Product_ID || typeof product.Product_ID !== \"number\") {\n    console.error(\"Продукт без валидного ID:\", product);\n    return null;\n  }\n\n  return {\n    ...product,\n    Product_Name: product.Product_Name || \"Неизвестный товар\",\n    images: Array.isArray(product.images) ? product.images : [],\n    categories: Array.isArray(product.categories) ? product.categories : [],\n    marks: Array.isArray(product.marks) ? product.marks : [],\n    parameters: Array.isArray(product.parameters) ? product.parameters : [],\n    colors: Array.isArray(product.colors)\n      ? product.colors.map((color: any) => ({\n          Color_ID: color?.Color_ID || 0,\n          Color_Name: color?.Color_Name || \"\",\n          Color_Code: color?.Color_Code || \"\",\n          Color_image: color?.Color_image || null,\n          Product_ID: color?.Product_ID || product.Product_ID || 0,\n          discount: color?.discount || null,\n        }))\n      : [],\n    extras: Array.isArray(product.extras) ? product.extras : [],\n    reviews: Array.isArray(product.reviews) ? product.reviews : [],\n    reviews_video: Array.isArray(product.reviews_video)\n      ? product.reviews_video\n      : [],\n  };\n}\n\nfunction validateProjectData(data: any): ProjectDataType {\n  if (!data || typeof data !== \"object\") {\n    console.error(\"Невалидные данные проекта:\", data);\n    return {\n      categories: [],\n      product_marks: [],\n      overall_product_tags_by_category: {},\n      products: [],\n    };\n  }\n\n  // Заменяем все URL адреса в special_project_parameters\n  const origin = typeof window !== \"undefined\" ? window.location.origin : \"\";\n\n  if (data.special_project_parameters) {\n    for (const key in data.special_project_parameters) {\n      if (typeof data.special_project_parameters[key] === \"string\") {\n        data.special_project_parameters[key] = data.special_project_parameters[\n          key\n        ].replace(/https:\\/\\/noxer-ai\\.ru/g, origin);\n      }\n    }\n  }\n\n  const validatedProducts = Array.isArray(data.products)\n    ? data.products.map(validateProduct).filter(Boolean)\n    : [];\n\n  return {\n    categories: Array.isArray(data.categories) ? data.categories : [],\n    product_marks: Array.isArray(data.product_marks) ? data.product_marks : [],\n    overall_product_tags_by_category:\n      data.overall_product_tags_by_category || {},\n    products: validatedProducts,\n    special_project_parameters: data.special_project_parameters || {},\n    special_project_parameters_actions: Array.isArray(\n      data.special_project_parameters_actions\n    )\n      ? data.special_project_parameters_actions\n      : [],\n    special_project_parameters_badges: Array.isArray(\n      data.special_project_parameters_badges\n    )\n      ? data.special_project_parameters_badges\n      : [],\n    status: data.status || \"\",\n  };\n}\n\nexport async function fetchProductsData() {\n  try {\n    // Определяем базовый URL динамически\n    const baseUrl = typeof window !== \"undefined\" ? window.location.origin : \"\";\n\n    // Формируем полный URL для API запроса\n    const apiUrl = `${baseUrl}/api/products`;\n\n    const response = await fetch(apiUrl);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    return validateProjectData(data);\n  } catch (error) {\n    console.error(\"Ошибка при получении данных:\", error);\n    return {\n      categories: [],\n      product_marks: [],\n      overall_product_tags_by_category: {},\n      products: [],\n    };\n  }\n}\n\nlet cachedData: ProjectDataType | null = null;\nlet cacheTimestamp = 0;\nconst CACHE_LIFETIME = 5 * 60 * 1000;\n\nexport async function getProjectData(): Promise<ProjectDataType> {\n  const now = Date.now();\n\n  if (cachedData && now - cacheTimestamp < CACHE_LIFETIME) {\n    return cachedData;\n  }\n\n  try {\n    const freshData = await fetchProductsData();\n    cachedData = freshData;\n    cacheTimestamp = now;\n    return freshData;\n  } catch (error) {\n    console.error(\"Ошибка при получении и кэшировании данных:\", error);\n\n    if (cachedData) {\n      console.warn(\"Возвращаем устаревшие данные из кэша\");\n      return cachedData;\n    }\n\n    return {\n      categories: [],\n      product_marks: [],\n      overall_product_tags_by_category: {},\n      products: [],\n    };\n  }\n}\n\nexport const projectData: Partial<ProjectDataType> = {\n  categories: [],\n  product_marks: [],\n  overall_product_tags_by_category: {},\n  products: [],\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/features/Metrics.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nimport { projectData } from \"@/data/fakeData\";\r\n\r\nconst Metrics = () => {\r\n  const footerText =\r\n    projectData?.special_project_parameters\r\n      ?.project_footer_special_text_extra_field_1 || \"\";\r\n\r\n  return (\r\n    <div\r\n      dangerouslySetInnerHTML={{\r\n        __html: footerText,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Metrics;\r\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKA,MAAM,UAAU;IACd,MAAM,aACJ,gHAAA,CAAA,cAAW,EAAE,4BACT,6CAA6C;IAEnD,qBACE,8OAAC;QACC,yBAAyB;YACvB,QAAQ;QACV;;;;;;AAGN;uCAEe","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":";AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,MAAQ;;AAEzC,OAAO;IACL,IAAIF,QAAQC,GAAG,CAACK,uBAA2B,EAAF;;IAczC,OAAO;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;YAEP;QACF,OAAO;;QAMP;IACF;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}