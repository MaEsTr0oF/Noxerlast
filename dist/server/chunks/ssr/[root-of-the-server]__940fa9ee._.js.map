{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/globalVariables.ts"],"sourcesContent":["export const iconsBaseLink = \"https://static-sda.ru/front_end/icons/\";\r\n"],"names":[],"mappings":";;;AAAO,MAAM,gBAAgB","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/api/index.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Определяем baseURL динамически на основе текущего хоста\r\nconst getBaseUrl = () => {\r\n  // Для серверного рендеринга или во время сборки\r\n  if (typeof window === \"undefined\") {\r\n    return \"/api\";\r\n  }\r\n\r\n  return `${window.location.origin}/api`;\r\n  //return `https://noxer-ai.ru/api`;\r\n};\r\n\r\nexport const apiInstance = axios.create({\r\n  baseURL: getBaseUrl(),\r\n});\r\n\r\napiInstance.interceptors.request.use(\r\n  (config) => {\r\n    return config;\r\n  },\r\n  (err) => {\r\n    console.debug(err);\r\n  }\r\n);\r\n\r\napiInstance.interceptors.response.use(\r\n  (response) => response,\r\n  async (err) => {\r\n    const request = err.config;\r\n\r\n    if (err.response?.status === 401 && !request._retry) {\r\n      request._retry = true;\r\n    }\r\n\r\n    console.debug(err);\r\n  }\r\n);\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,0DAA0D;AAC1D,MAAM,aAAa;IACjB,gDAAgD;IAChD,wCAAmC;QACjC,OAAO;IACT;;AAGA,mCAAmC;AACrC;AAEO,MAAM,cAAc,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACtC,SAAS;AACX;AAEA,YAAY,YAAY,CAAC,OAAO,CAAC,GAAG,CAClC,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,QAAQ,KAAK,CAAC;AAChB;AAGF,YAAY,YAAY,CAAC,QAAQ,CAAC,GAAG,CACnC,CAAC,WAAa,UACd,OAAO;IACL,MAAM,UAAU,IAAI,MAAM;IAE1B,IAAI,IAAI,QAAQ,EAAE,WAAW,OAAO,CAAC,QAAQ,MAAM,EAAE;QACnD,QAAQ,MAAM,GAAG;IACnB;IAEA,QAAQ,KAAK,CAAC;AAChB","debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/store/DataStore.ts"],"sourcesContent":["import { makeAutoObservable, runInAction } from \"mobx\";\n\nimport { apiInstance } from \"@/utils/api\";\nimport { makePersistable } from \"mobx-persist-store\";\n\nexport class DataStore {\n  data: any = {};\n  error: string | null = null;\n  lastUpdated: number = 0;\n  refreshInterval: number | null = null;\n\n  constructor() {\n    makeAutoObservable(this);\n\n    if (typeof window !== \"undefined\") {\n      makePersistable(this, {\n        name: \"DataStore\",\n        properties: [\"data\", \"lastUpdated\"],\n        storage: window.localStorage,\n      });\n\n      // Первоначальная загрузка данных\n      this.fetchProducts();\n\n      // Настройка периодического обновления данных (каждые 5 минут)\n      this.setupAutoRefresh(5 * 60 * 1000);\n    }\n  }\n\n  /**\n   * Устанавливает интервал для автоматического обновления данных\n   * @param interval Интервал в миллисекундах\n   */\n  setupAutoRefresh(interval: number) {\n    // Очищаем предыдущий интервал, если есть\n    if (this.refreshInterval) {\n      clearInterval(this.refreshInterval);\n    }\n\n    // Устанавливаем новый интервал\n    this.refreshInterval = window.setInterval(() => {\n      this.fetchProducts();\n    }, interval);\n  }\n\n  /**\n   * Принудительно обновляет данные из API\n   */\n  async refreshData() {\n    return this.fetchProducts();\n  }\n\n  /**\n   * Загружает данные из API\n   */\n  async fetchProducts() {\n    this.error = null;\n\n    try {\n      const response = await apiInstance.get(\"/products\");\n\n      runInAction(() => {\n        this.data = response.data;\n        this.lastUpdated = Date.now();\n\n        // Генерируем событие обновления данных для компонентов\n        if (typeof window !== \"undefined\") {\n          window.dispatchEvent(new Event(\"storeDataUpdated\"));\n        }\n      });\n\n      return true;\n    } catch (error) {\n      runInAction(() => {\n        this.error =\n          error instanceof Error ? error.message : \"Неизвестная ошибка\";\n      });\n      return false;\n    }\n  }\n}\n\nexport const dataStore = new DataStore();\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;;;;AAEO,MAAM;IACX,OAAY,CAAC,EAAE;IACf,QAAuB,KAAK;IAC5B,cAAsB,EAAE;IACxB,kBAAiC,KAAK;IAEtC,aAAc;QACZ,CAAA,GAAA,2IAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;QAEvB,uCAAmC;;QAYnC;IACF;IAEA;;;GAGC,GACD,iBAAiB,QAAgB,EAAE;QACjC,yCAAyC;QACzC,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,cAAc,IAAI,CAAC,eAAe;QACpC;QAEA,+BAA+B;QAC/B,IAAI,CAAC,eAAe,GAAG,OAAO,WAAW,CAAC;YACxC,IAAI,CAAC,aAAa;QACpB,GAAG;IACL;IAEA;;GAEC,GACD,MAAM,cAAc;QAClB,OAAO,IAAI,CAAC,aAAa;IAC3B;IAEA;;GAEC,GACD,MAAM,gBAAgB;QACpB,IAAI,CAAC,KAAK,GAAG;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,qHAAA,CAAA,cAAW,CAAC,GAAG,CAAC;YAEvC,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI;gBACzB,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG;gBAE3B,uDAAuD;gBACvD,uCAAmC;;gBAEnC;YACF;YAEA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,KAAK,GACR,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC7C;YACA,OAAO;QACT;IACF;AACF;AAEO,MAAM,YAAY,IAAI","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/detectIOS.ts"],"sourcesContent":["export const detectIOS = () => {\n  const userAgent = window.navigator.userAgent.toLowerCase();\n  return /iphone|ipad|ipod/.test(userAgent);\n};\n"],"names":[],"mappings":";;;AAAO,MAAM,YAAY;IACvB,MAAM,YAAY,OAAO,SAAS,CAAC,SAAS,CAAC,WAAW;IACxD,OAAO,mBAAmB,IAAI,CAAC;AACjC","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/header/TheHeader.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\nimport ru from \"@/messages/ru.json\";\nimport { dataStore } from \"@/store/DataStore\";\nimport \"@/styles/widgets/header.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { detectIOS } from \"@/utils/detectIOS\";\n\nconst TheHeader = () => {\n  const pathname = usePathname();\n  const location = useLocation();\n  const [user, setUser] = useState<Record<string, any>>({});\n  const [tgApp, setTgApp] = useState<any>(null);\n\n  const profileImageRef = useRef<HTMLImageElement>(null);\n  const profileNameRef = useRef<HTMLParagraphElement>(null);\n  const settingButtonRef = useRef<HTMLButtonElement>(null);\n\n  useEffect(() => {\n    const tgApp = window.Telegram.WebApp;\n\n    if (typeof window !== \"undefined\") {\n      if (tgApp) {\n        setTgApp(tgApp);\n        tgApp.expand();\n        tgApp.ready();\n\n        if (tgApp.version >= \"7.9\") {\n          if (detectMobile()) {\n            tgApp.requestFullscreen();\n          }\n          tgApp.disableVerticalSwipes();\n          tgApp.setHeaderColor(\"#f1f1f1\");\n          tgApp.setBottomBarColor(\"#f1f1f1\");\n          tgApp.setBackgroundColor(\"#f1f1f1\");\n\n          if (location.pathname === \"/\") {\n            tgApp.BackButton.hide();\n          } else {\n            tgApp.BackButton.show();\n            tgApp.BackButton.onClick(() => {\n              window.history.back();\n            });\n          }\n        }\n\n        // Получение данных пользователя\n        if (tgApp.initDataUnsafe && tgApp.initDataUnsafe.user) {\n          setUser(tgApp.initDataUnsafe.user);\n        }\n\n        // Обработка перезагрузки страницы при использовании кэша\n        window.addEventListener(\"pageshow\", (event) => {\n          if (event.persisted) {\n            window.location.reload();\n          }\n        });\n      } else {\n        console.warn(\"Telegram WebApp не доступен. Запуск вне Mini App.\");\n      }\n    }\n\n    return () => {\n      window.removeEventListener(\"pageshow\", () => {});\n    };\n  }, [location]);\n  function openLinkHandler() {\n    let channelName =\n      dataStore.data?.special_project_parameters?.telegram_header_link_value ||\n      \"noxerai_bot\";\n\n    // Если имя канала начинается с @, удаляем этот символ для URL\n    if (channelName.startsWith(\"@\")) {\n      channelName = channelName.substring(1);\n    }\n\n    const link = `https://t.me/${channelName}`;\n    if (link) {\n      window.open(link, \"_blank\");\n    }\n  }\n\n  function detectMobile() {\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n      navigator.userAgent\n    );\n  }\n\n  const formatName = (name: string) => {\n    if (!name) return \"\";\n    return (\n      name.charAt(0).toLocaleUpperCase() + name.slice(1).toLocaleLowerCase()\n    );\n  };\n\n  const getProjectName = () => {\n    return (\n      dataStore.data?.special_project_parameters?.project_name_value ||\n      \"noxerai_bot\"\n    );\n  };\n\n  return (\n    <header\n      className={`header \n    ${!detectMobile() ? \"header-mobile\" : \"\"}\n    ${detectIOS() ? \"header-ios\" : \"\"}`}\n    >\n      <div className=\"header-profile\">\n        <img\n          ref={profileImageRef}\n          className=\"header-profile-image\"\n          src={user.photo_url}\n          alt=\"\"\n          id=\"header-avatar-image\"\n        />\n        <p\n          ref={profileNameRef}\n          className=\"header-profile-text\"\n          id=\"header-username-text\"\n        >\n          {user.first_name ? formatName(user.first_name) : \"Вы\"}{\" \"}\n          {user.last_name || \"\"}\n        </p>\n      </div>\n\n      <button onClick={openLinkHandler} className=\"header-telegram\">\n        <img src={`${iconsBaseLink}telegram-icon.svg`} alt=\"\" />\n        <p className=\"header-telegram-text index-telegram-open-special_tg\">\n          {getProjectName()}\n        </p>\n      </button>\n    </header>\n  );\n};\n\nexport default TheHeader;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAEA;AAEA;AACA;AARA;;;;;;;;;AAUA,MAAM,YAAY;IAChB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,WAAW,CAAA,GAAA,uJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAuB,CAAC;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAExC,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IACjD,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAwB;IACpD,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAqB;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,OAAO,QAAQ,CAAC,MAAM;QAEpC,uCAAmC;;QAuCnC;QAEA,OAAO;YACL,OAAO,mBAAmB,CAAC,YAAY,KAAO;QAChD;IACF,GAAG;QAAC;KAAS;IACb,SAAS;QACP,IAAI,cACF,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,4BAA4B,8BAC5C;QAEF,8DAA8D;QAC9D,IAAI,YAAY,UAAU,CAAC,MAAM;YAC/B,cAAc,YAAY,SAAS,CAAC;QACtC;QAEA,MAAM,OAAO,CAAC,aAAa,EAAE,aAAa;QAC1C,wCAAU;YACR,OAAO,IAAI,CAAC,MAAM;QACpB;IACF;IAEA,SAAS;QACP,OAAO,iEAAiE,IAAI,CAC1E,UAAU,SAAS;IAEvB;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,MAAM,OAAO;QAClB,OACE,KAAK,MAAM,CAAC,GAAG,iBAAiB,KAAK,KAAK,KAAK,CAAC,GAAG,iBAAiB;IAExE;IAEA,MAAM,iBAAiB;QACrB,OACE,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,4BAA4B,sBAC5C;IAEJ;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC;IACd,EAAE,CAAC,iBAAiB,kBAAkB,GAAG;IACzC,EAAE,CAAA,GAAA,kHAAA,CAAA,YAAS,AAAD,MAAM,eAAe,IAAI;;0BAEjC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK;wBACL,WAAU;wBACV,KAAK,KAAK,SAAS;wBACnB,KAAI;wBACJ,IAAG;;;;;;kCAEL,8OAAC;wBACC,KAAK;wBACL,WAAU;wBACV,IAAG;;4BAEF,KAAK,UAAU,GAAG,WAAW,KAAK,UAAU,IAAI;4BAAM;4BACtD,KAAK,SAAS,IAAI;;;;;;;;;;;;;0BAIvB,8OAAC;gBAAO,SAAS;gBAAiB,WAAU;;kCAC1C,8OAAC;wBAAI,KAAK,GAAG,wHAAA,CAAA,gBAAa,CAAC,iBAAiB,CAAC;wBAAE,KAAI;;;;;;kCACnD,8OAAC;wBAAE,WAAU;kCACV;;;;;;;;;;;;;;;;;;AAKX;uCAEe","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/store/ShoppingCartStore.ts"],"sourcesContent":["import { makeAutoObservable, runInAction } from \"mobx\";\nimport { makePersistable } from \"mobx-persist-store\";\nimport { dataStore } from \"@/store/DataStore\";\n\ninterface CartItem {\n  Product_ID: number;\n  [key: string]: any;\n  quantity: number;\n  parameters?: any;\n  selectedColor?: {\n    id: number;\n    name: string;\n    code: string;\n    image: string | null;\n    discount: number | null;\n  } | null;\n}\n\nexport class ShoppingCartStore {\n  items: CartItem[] = [];\n\n  constructor() {\n    makeAutoObservable(this);\n\n    if (typeof window !== \"undefined\") {\n      makePersistable(this, {\n        name: \"ShoppingCartStore\",\n        properties: [\"items\"],\n        storage: window.localStorage,\n      });\n    }\n  }\n\n  addToCart(id: number, cartData: any) {\n    const isObject = typeof cartData === \"object\" && cartData !== null;\n    const paramTitle = isObject ? cartData.paramTitle : cartData;\n    const colorId = isObject ? cartData.colorId : null;\n    const colorImage = isObject ? cartData.colorImage : null;\n\n    // Проверяем, есть ли уже такой товар в корзине\n    const existingItem = this.items.find((item) => {\n      const paramMatch =\n        item.Product_ID === id &&\n        (!paramTitle || item.parameters?.parameter_string === paramTitle);\n      const colorMatch = !colorId || item.selectedColor?.id === colorId;\n\n      return paramMatch && colorMatch;\n    });\n\n    if (existingItem) {\n      this.increaseQuantity(existingItem.Product_ID, paramTitle, colorId);\n      return;\n    }\n\n    if (!dataStore.data || !dataStore.data.products) {\n      return;\n    }\n\n    const baseProduct = dataStore.data.products.find(\n      (product: any) => product.Product_ID === id\n    );\n\n    if (!baseProduct) {\n      return;\n    }\n\n    // Находим выбранный параметр\n    let selectedParameter = null;\n    if (\n      paramTitle &&\n      baseProduct.parameters &&\n      Array.isArray(baseProduct.parameters)\n    ) {\n      selectedParameter = baseProduct.parameters.find(\n        (param: any) => param.parameter_string === paramTitle\n      );\n\n      if (!selectedParameter && baseProduct.parameters.length > 0) {\n        selectedParameter = baseProduct.parameters[0];\n      }\n    }\n\n    // Находим выбранный цвет\n    let selectedColor = null;\n    if (colorId && baseProduct.colors && Array.isArray(baseProduct.colors)) {\n      selectedColor = baseProduct.colors.find(\n        (color: any) => color.Color_ID === colorId\n      );\n\n      // Если не нашли цвет в списке цветов товара, но у нас есть ID и данные о цвете из карточки товара\n      if (!selectedColor && isObject && cartData.colorName) {\n        selectedColor = {\n          Color_ID: colorId,\n          Color_Name: cartData.colorName,\n          Color_Code: cartData.colorCode || \"\",\n          Color_image: colorImage,\n          Product_ID: id,\n          discount: cartData.discount || 0,\n        };\n      }\n    }\n\n    // Вычисляем итоговую цену с учетом скидки\n    let finalPrice = selectedParameter?.price || baseProduct.Price || 0;\n\n    // Применяем скидку на цвет (абсолютное значение)\n    if (selectedColor && selectedColor.discount) {\n      finalPrice = Math.max(0, finalPrice - selectedColor.discount);\n    }\n\n    const productToAdd = {\n      ...baseProduct,\n      parameters: selectedParameter,\n      selectedColor: selectedColor\n        ? {\n            id: selectedColor.Color_ID,\n            name: selectedColor.Color_Name,\n            code: selectedColor.Color_Code,\n            image: selectedColor.Color_image || colorImage,\n            discount: selectedColor.discount,\n          }\n        : null,\n      final_price: finalPrice,\n      quantity: 1,\n    };\n\n    runInAction(() => {\n      this.items = [...this.items, productToAdd];\n    });\n  }\n\n  removeFromCart(\n    productId: number,\n    parameterString?: string,\n    colorId?: number\n  ) {\n    runInAction(() => {\n      this.items = this.items.filter((item) => {\n        const paramMatch = !(\n          item.Product_ID === productId &&\n          (!parameterString ||\n            item.parameters?.parameter_string === parameterString)\n        );\n        const colorMatch = !colorId || item.selectedColor?.id !== colorId;\n        return paramMatch || colorMatch;\n      });\n    });\n  }\n\n  clearCart() {\n    runInAction(() => {\n      this.items = [];\n    });\n\n    // Очищаем также элементы из localStorage, связанные с корзиной\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"addedSettingItems\");\n    }\n  }\n\n  increaseQuantity(\n    productId: number,\n    parameterString?: string,\n    colorId?: number\n  ) {\n    const updatedItems = [...this.items];\n\n    const itemIndex = updatedItems.findIndex((item) => {\n      const paramMatch =\n        item.Product_ID === productId &&\n        (!parameterString ||\n          item.parameters?.parameter_string === parameterString);\n      const colorMatch = !colorId || item.selectedColor?.id === colorId;\n      return paramMatch && colorMatch;\n    });\n\n    if (itemIndex !== -1) {\n      updatedItems[itemIndex] = {\n        ...updatedItems[itemIndex],\n        quantity: (updatedItems[itemIndex].quantity || 1) + 1,\n      };\n\n      runInAction(() => {\n        this.items = updatedItems;\n      });\n    }\n  }\n\n  decreaseQuantity(\n    productId: number,\n    parameterString?: string,\n    colorId?: number\n  ) {\n    const updatedItems = [...this.items];\n\n    const itemIndex = updatedItems.findIndex((item) => {\n      const paramMatch =\n        item.Product_ID === productId &&\n        (!parameterString ||\n          item.parameters?.parameter_string === parameterString);\n      const colorMatch = !colorId || item.selectedColor?.id === colorId;\n      return paramMatch && colorMatch;\n    });\n\n    if (itemIndex !== -1 && updatedItems[itemIndex].quantity > 1) {\n      updatedItems[itemIndex] = {\n        ...updatedItems[itemIndex],\n        quantity: updatedItems[itemIndex].quantity - 1,\n      };\n\n      runInAction(() => {\n        this.items = updatedItems;\n      });\n    }\n  }\n}\n\nexport const shoppingCartStore = new ShoppingCartStore();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/footer/TheFooter.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { shoppingCartStore } from \"@/store/ShoppingCartStore\";\nimport \"@/styles/widgets/footer.css\";\nimport { detectIOS } from \"@/utils/detectIOS\";\n\nconst TheFooter = observer(() => {\n  const location = useLocation();\n  const [isIOS, setIsIOS] = useState(false);\n\n  const [links, setLinks] = useState([\n    {\n      id: 1,\n      icon:\n        '<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\n        '<path d=\"M7.34655 18.9553H3.98376C2.74494 18.9553 1.74121 17.9516 1.74121 16.7127V10.1159C1.74197 9.63537 1.84541 9.1605 2.0446 8.72315C2.2438 8.2858 2.53415 7.89606 2.89621 7.58005L8.95742 2.30077C9.36557 1.94571 9.88831 1.75015 10.4293 1.75015C10.9703 1.75015 11.493 1.94571 11.9011 2.30077L17.9624 7.58107C18.3243 7.89697 18.6146 8.28654 18.8138 8.72371C19.0129 9.16087 19.1165 9.63554 19.1174 10.1159V16.7127C19.1174 17.3073 18.8812 17.8776 18.4609 18.2981C18.0406 18.7186 17.4704 18.955 16.8758 18.9553H13.7921V12.2287C13.7921 11.3006 13.0398 10.5473 12.1107 10.5473H9.02897C8.09986 10.5473 7.34757 11.3006 7.34757 12.2287L7.34655 18.9553ZM7.34655 18.9553H13.7931\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeLinejoin=\"round\"/>\\n' +\n        \"</svg>\",\n      href: \"/\",\n      isActive: false,\n    },\n    {\n      id: 2,\n      icon:\n        '<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\n        '<path d=\"M4.375 8.75H6.125C7.875 8.75 8.75 7.875 8.75 6.125V4.375C8.75 2.625 7.875 1.75 6.125 1.75H4.375C2.625 1.75 1.75 2.625 1.75 4.375V6.125C1.75 7.875 2.625 8.75 4.375 8.75Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        '<path d=\"M14.875 8.75H16.625C18.375 8.75 19.25 7.875 19.25 6.125V4.375C19.25 2.625 18.375 1.75 16.625 1.75H14.875C13.125 1.75 12.25 2.625 12.25 4.375V6.125C12.25 7.875 13.125 8.75 14.875 8.75Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        '<path d=\"M14.875 19.25H16.625C18.375 19.25 19.25 18.375 19.25 16.625V14.875C19.25 13.125 18.375 12.25 16.625 12.25H14.875C13.125 12.25 12.25 13.125 12.25 14.875V16.625C12.25 18.375 13.125 19.25 14.875 19.25Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        '<path d=\"M4.375 19.25H6.125C7.875 19.25 8.75 18.375 8.75 16.625V14.875C8.75 13.125 7.875 12.25 6.125 12.25H4.375C2.625 12.25 1.75 13.125 1.75 14.875V16.625C1.75 18.375 2.625 19.25 4.375 19.25Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        \"</svg>\",\n      href: \"/catalog\",\n      isActive: false,\n    },\n    {\n      id: 4,\n      icon:\n        '<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\n        '<path d=\"M11.0425 18.2088C10.745 18.3138 10.255 18.3138 9.9575 18.2088C7.42 17.3426 1.75 13.7288 1.75 7.60384C1.75 4.90009 3.92875 2.71259 6.615 2.71259C8.2075 2.71259 9.61625 3.48259 10.5 4.67259C11.3837 3.48259 12.8013 2.71259 14.385 2.71259C17.0713 2.71259 19.25 4.90009 19.25 7.60384C19.25 13.7288 13.58 17.3426 11.0425 18.2088Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        \"</svg>\",\n      href: \"/favorites\",\n      isActive: false,\n    },\n    {\n      id: 5,\n      icon:\n        '<svg width=\"21\" height=\"21\" viewBox=\"0 0 21 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n' +\n        '<path d=\"M7.70913 1.75L4.54163 4.92625\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        '<path d=\"M13.2916 1.75L16.4591 4.92625\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeMiterlimit=\"10\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\\n' +\n        '<path d=\"M1.75 6.86816C1.75 5.24941 2.61625 5.11816 3.6925 5.11816H17.3075C18.3838 5.11816 19.25 5.24941 19.25 6.86816C19.25 8.74941 18.3838 8.61816 17.3075 8.61816H3.6925C2.61625 8.61816 1.75 8.74941 1.75 6.86816Z\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\"/>\\n' +\n        '<path d=\"M8.54004 12.25V15.3562\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/>\\n' +\n        '<path d=\"M12.5653 12.25V15.3562\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/>\\n' +\n        '<path d=\"M3.0625 8.75L4.29625 16.31C4.57625 18.0075 5.25 19.25 7.7525 19.25H13.0288C15.75 19.25 16.1525 18.06 16.4675 16.415L17.9375 8.75\" stroke=\"#8B8B8B\" strokeWidth=\"1.3\" strokeLinecap=\"round\"/>\\n' +\n        \"</svg>\",\n      href: \"/shoppingcart\",\n      isActive: false,\n    },\n  ]);\n\n  const cartCount = useMemo(() => {\n    const items = [...shoppingCartStore.items];\n    return items.reduce((acc, item) => acc + (item.quantity || 1), 0);\n  }, [shoppingCartStore.items]);\n\n  useEffect(() => {\n    setLinks(\n      links.map((link) => {\n        return link.href === location.pathname\n          ? { ...link, isActive: true }\n          : { ...link, isActive: false };\n      })\n    );\n  }, [location]);\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setIsIOS(detectIOS());\n    }\n  }, []);\n\n  return (\n    <footer className={`footer ${isIOS ? \"footer-ios\" : \"\"}`}>\n      <nav className=\"footer-nav\">\n        {links.map((link) => (\n          <NavLink\n            key={link.id}\n            to={link.href}\n            className={`footer-nav-link click-effect-block ${link.isActive ? \"activeLink\" : \"\"}`}\n            dangerouslySetInnerHTML={{ __html: link.icon }}\n          ></NavLink>\n        ))}\n\n        {cartCount > 0 && (\n          <span\n            className={`footer-cart-badge${location.pathname.includes(\"shoppingcart\") ? \" footer-cart-badge--active\" : \"\"}`}\n          >\n            {cartCount}\n          </span>\n        )}\n      </nav>\n    </footer>\n  );\n});\n\nexport default TheFooter;\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;AACA;AAEA;AANA;;;;;;;;AAQA,MAAM,YAAY,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD,EAAE;IACzB,MAAM,WAAW,CAAA,GAAA,uJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACjC;YACE,IAAI;YACJ,MACE,sGACA,guBACA;YACF,MAAM;YACN,UAAU;QACZ;QACA;YACE,IAAI;YACJ,MACE,sGACA,iSACA,gTACA,+TACA,gTACA;YACF,MAAM;YACN,UAAU;QACZ;QACA;YACE,IAAI;YACJ,MACE,sGACA,saACA;YACF,MAAM;YACN,UAAU;QACZ;QACA;YACE,IAAI;YACJ,MACE,sGACA,sJACA,sJACA,mQACA,kGACA,kGACA,4MACA;YACF,MAAM;YACN,UAAU;QACZ;KACD;IAED,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QACxB,MAAM,QAAQ;eAAI,0HAAA,CAAA,oBAAiB,CAAC,KAAK;SAAC;QAC1C,OAAO,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,CAAC,KAAK,QAAQ,IAAI,CAAC,GAAG;IACjE,GAAG;QAAC,0HAAA,CAAA,oBAAiB,CAAC,KAAK;KAAC;IAE5B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,SACE,MAAM,GAAG,CAAC,CAAC;YACT,OAAO,KAAK,IAAI,KAAK,SAAS,QAAQ,GAClC;gBAAE,GAAG,IAAI;gBAAE,UAAU;YAAK,IAC1B;gBAAE,GAAG,IAAI;gBAAE,UAAU;YAAM;QACjC;IAEJ,GAAG;QAAC;KAAS;IAEb,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,uCAAmC;;QAEnC;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAO,WAAW,CAAC,OAAO,EAAE,QAAQ,eAAe,IAAI;kBACtD,cAAA,8OAAC;YAAI,WAAU;;gBACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uJAAA,CAAA,UAAO;wBAEN,IAAI,KAAK,IAAI;wBACb,WAAW,CAAC,mCAAmC,EAAE,KAAK,QAAQ,GAAG,eAAe,IAAI;wBACpF,yBAAyB;4BAAE,QAAQ,KAAK,IAAI;wBAAC;uBAHxC,KAAK,EAAE;;;;;gBAOf,YAAY,mBACX,8OAAC;oBACC,WAAW,CAAC,iBAAiB,EAAE,SAAS,QAAQ,CAAC,QAAQ,CAAC,kBAAkB,+BAA+B,IAAI;8BAE9G;;;;;;;;;;;;;;;;;AAMb;uCAEe","debugId":null}},
    {"offset": {"line": 654, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/PageWrapper.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect } from \"react\";\r\nimport \"@/styles/widgets/pageWrapper.css\";\r\n\r\nimport TheHeader from \"@/widgets/header/TheHeader\";\r\nimport TheFooter from \"@/widgets/footer/TheFooter\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { detectIOS } from \"@/utils/detectIOS\";\r\nimport { dataStore } from \"@/store/DataStore\";\r\n\r\nconst PageWrapper: React.FC<{ children: any }> = ({ children }) => {\r\n  const location = useLocation();\r\n  const isProductPage = location.pathname.includes(\"/product/\");\r\n\r\n  function clickBotHandler() {\r\n    let username =\r\n      dataStore.data?.special_project_parameters?.telegram_bot_username_value ||\r\n      \"noxerai_bot\";\r\n\r\n    // Если имя пользователя начинается с @, удаляем этот символ для URL\r\n    if (username.startsWith(\"@\")) {\r\n      username = username.substring(1);\r\n    }\r\n\r\n    const link = `https://t.me/${username}`;\r\n    if (link) {\r\n      window.open(link, \"_blank\");\r\n    }\r\n  }\r\n\r\n  const getProjectName = () => {\r\n    return (\r\n      dataStore.data?.special_project_parameters?.project_name_value ||\r\n      \"noxerai_bot\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TheHeader />\r\n\r\n      {children}\r\n\r\n      <div\r\n        className={`wrapper-footer \r\n          ${isProductPage ? \"wrapper-footer-productPage\" : \"\"}\r\n          ${detectIOS() ? \"wrapper-footer--ios\" : \"\"}\r\n          `}\r\n      >\r\n        <p className=\"footer-text\">\r\n          Разработано на платформе Noxer <br />\r\n          <a\r\n            href=\"#\"\r\n            onClick={clickBotHandler}\r\n            className=\"index-telegram-open-special_tg footer-link\"\r\n          >\r\n            @{getProjectName()}\r\n          </a>\r\n        </p>\r\n      </div>\r\n\r\n      <TheFooter />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageWrapper;\r\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAUA,MAAM,cAA2C,CAAC,EAAE,QAAQ,EAAE;IAC5D,MAAM,WAAW,CAAA,GAAA,uJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,gBAAgB,SAAS,QAAQ,CAAC,QAAQ,CAAC;IAEjD,SAAS;QACP,IAAI,WACF,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,4BAA4B,+BAC5C;QAEF,oEAAoE;QACpE,IAAI,SAAS,UAAU,CAAC,MAAM;YAC5B,WAAW,SAAS,SAAS,CAAC;QAChC;QAEA,MAAM,OAAO,CAAC,aAAa,EAAE,UAAU;QACvC,wCAAU;YACR,OAAO,IAAI,CAAC,MAAM;QACpB;IACF;IAEA,MAAM,iBAAiB;QACrB,OACE,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,4BAA4B,sBAC5C;IAEJ;IAEA,qBACE;;0BACE,8OAAC,+HAAA,CAAA,UAAS;;;;;YAET;0BAED,8OAAC;gBACC,WAAW,CAAC;UACV,EAAE,gBAAgB,+BAA+B,GAAG;UACpD,EAAE,CAAA,GAAA,kHAAA,CAAA,YAAS,AAAD,MAAM,wBAAwB,GAAG;UAC3C,CAAC;0BAEH,cAAA,8OAAC;oBAAE,WAAU;;wBAAc;sCACM,8OAAC;;;;;sCAChC,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;;gCACX;gCACG;;;;;;;;;;;;;;;;;;0BAKR,8OAAC,+HAAA,CAAA,UAAS;;;;;;;AAGhB;uCAEe","debugId":null}},
    {"offset": {"line": 749, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/store/FavoritesStore.ts"],"sourcesContent":["import { makeAutoObservable } from \"mobx\";\r\nimport { makePersistable } from \"mobx-persist-store\";\r\n\r\nexport class FavoritesStore {\r\n  favoritesIds: number[] = [];\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      makePersistable(this, {\r\n        name: \"FavoritesStore\",\r\n        properties: [\"favoritesIds\"],\r\n        storage: window.localStorage,\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleFavorite(id: number) {\r\n    this.favoritesIds.includes(id)\r\n      ? (this.favoritesIds = this.favoritesIds.filter((favId) => favId !== id))\r\n      : this.favoritesIds.push(id);\r\n  }\r\n\r\n  removeFavorite(id: number) {\r\n    this.favoritesIds = this.favoritesIds.filter((favId) => favId !== id);\r\n  }\r\n\r\n  isFavorite(id: number) {\r\n    return this.favoritesIds.includes(id);\r\n  }\r\n}\r\n\r\nexport const favoritesStore = new FavoritesStore();\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM;IACX,eAAyB,EAAE,CAAC;IAE5B,aAAc;QACZ,CAAA,GAAA,2IAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;QAEvB,uCAAmC;;QAMnC;IACF;IAEA,eAAe,EAAU,EAAE;QACzB,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAU,UAAU,MACnE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;IAC7B;IAEA,eAAe,EAAU,EAAE;QACzB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,QAAU,UAAU;IACpE;IAEA,WAAW,EAAU,EAAE;QACrB,OAAO,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;IACpC;AACF;AAEO,MAAM,iBAAiB,IAAI","debugId":null}},
    {"offset": {"line": 787, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/getTagBackground.ts"],"sourcesContent":["\r\nexport const getTagBackground = (tag: string) => {\r\n    switch (tag?.toLowerCase()) {\r\n      case \"хит\":\r\n        return \"bg-[#ff6723]\";\r\n      case \"hit\":\r\n        return \"bg-[#ff6723]\";\r\n      case \"new\":\r\n        return \"bg-[#45b649]\";\r\n      case \"sale\":\r\n        return \"bg-[#ffca28]\";\r\n      default:\r\n        return \"bg-[#292928]\";\r\n    }\r\n  };"],"names":[],"mappings":";;;AACO,MAAM,mBAAmB,CAAC;IAC7B,OAAQ,KAAK;QACX,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF","debugId":null}},
    {"offset": {"line": 810, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/getTagLabel.ts"],"sourcesContent":["export const getTagLabel = (tag: string) => {\r\n  switch (tag?.toLowerCase()) {\r\n    case \"хит\":\r\n    case \"hit\":\r\n      return \"ХИТ\"\r\n    case \"new\":\r\n      return \"NEW\"\r\n    case \"sale\":\r\n      return \"SALE\"\r\n    default:\r\n      return tag\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAO,MAAM,cAAc,CAAC;IAC1B,OAAQ,KAAK;QACX,KAAK;QACL,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF","debugId":null}},
    {"offset": {"line": 832, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/entities/Product.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport ru from \"@/messages/ru.json\";\r\n\r\nimport { favoritesStore } from \"@/store/FavoritesStore\";\r\n\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { Pagination } from \"swiper/modules\";\r\nimport type { SwiperClass } from \"swiper/react\";\r\n\r\nimport Link from \"next/link\";\r\n\r\nimport \"swiper/css\";\r\nimport \"swiper/css/pagination\";\r\nimport \"swiper/css/navigation\";\r\n\r\nimport \"@/styles/entities/product.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { getTagBackground } from \"@/utils/getTagBackground\";\r\nimport { getTagLabel } from \"@/utils/getTagLabel\";\r\n\r\ninterface ProductProps {\r\n  id: number;\r\n  tag: string;\r\n  images: string[] | any[];\r\n  initialPrice: string;\r\n  currentPrice: string;\r\n  title: string;\r\n  categoryId: number;\r\n}\r\n\r\nconst Product: React.FC<ProductProps> = observer(\r\n  ({ id, tag, images, initialPrice, currentPrice, title, categoryId }) => {\r\n\r\n    const stopPropagation = (e: React.MouseEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    };\r\n\r\n    // Проверяем валидность данных\r\n    const hasValidId = id && typeof id === \"number\";\r\n    const hasValidTag = tag && typeof tag === \"string\";\r\n    const hasValidImages = Array.isArray(images) && images.length > 0;\r\n    const hasValidPrice = currentPrice && typeof currentPrice === \"string\";\r\n    const hasValidTitle = title && typeof title === \"string\";\r\n\r\n    if (!hasValidId) {\r\n      console.error(\"Продукт без валидного ID:\", id);\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <NavLink to={`/product/${id}`} className=\"product-card click-effect-block\">\r\n        <div className=\"product-card-sliderWrapper\">\r\n          {hasValidTag && tag.trim() !== \"\" && (\r\n            <div className={`product-card-sliderWrapper-tag ${getTagBackground(tag)}`}>\r\n              {getTagLabel(tag)}\r\n            </div>\r\n          )}\r\n\r\n          {hasValidImages ? (\r\n            <Swiper\r\n              modules={[Pagination]}\r\n              spaceBetween={10}\r\n              slidesPerView={1}\r\n              pagination={{ clickable: true }}\r\n              className=\"product-card-swiper\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n            >\r\n              {images.map((image: any) => (\r\n                <SwiperSlide key={image.Image_ID || Math.random()}>\r\n                  <div\r\n                    className=\"product-slide-container\"\r\n                  >\r\n                    <img\r\n                      className=\"product-card-slide-image\"\r\n                      src={\r\n                        image.Image_URL\r\n                          ? image.Image_URL\r\n                          : \"/placeholder-image.jpg\"\r\n                      }\r\n                      alt={`Изображение товара ${title || \"Товар\"}`}\r\n                      onError={(e) => {\r\n                        e.currentTarget.src = \"/placeholder-image.jpg\";\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </SwiperSlide>\r\n              ))}\r\n            </Swiper>\r\n          ) : (\r\n            <div className=\"product-card-no-image\">\r\n              <p>Нет изображения</p>\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              favoritesStore.toggleFavorite(id);\r\n            }}\r\n            className=\"product-card-addToFavoritesButton\"\r\n          >\r\n            <svg\r\n              width=\"18\"\r\n              height=\"16\"\r\n              viewBox=\"0 0 18 16\"\r\n              fill={\r\n                favoritesStore.favoritesIds.some((item) => item === id)\r\n                  ? \"#FE646F\"\r\n                  : \"transparent\"\r\n              }\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"cursor-pointer\"\r\n            >\r\n              <path\r\n                d=\"M9.30663 14.7267L9.30662 14.7267L9.30029 14.7289C9.24983 14.7467 9.14099 14.7668 8.99996 14.7668C8.85893 14.7668 8.75009 14.7467 8.69963 14.7289L8.69964 14.7289L8.69329 14.7267C7.57825 14.346 5.71238 13.3333 4.13388 11.716C2.56322 10.1067 1.31663 7.94228 1.31663 5.24183C1.31663 3.02277 3.10364 1.2335 5.29996 1.2335C6.60123 1.2335 7.75317 1.86153 8.47812 2.8377C8.60075 3.00282 8.79429 3.10016 8.99996 3.10016C9.20563 3.10016 9.39917 3.00282 9.5218 2.8377C10.2464 1.86206 11.4064 1.2335 12.7 1.2335C14.8963 1.2335 16.6833 3.02277 16.6833 5.24183C16.6833 7.94228 15.4367 10.1067 13.866 11.716C12.2875 13.3333 10.4217 14.346 9.30663 14.7267Z\"\r\n                stroke={\r\n                  favoritesStore.favoritesIds.some((item) => item === id)\r\n                    ? \"#FE646F\"\r\n                    : \"#6C6C6C\"\r\n                }\r\n                strokeWidth=\"1.3\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"product-card-priceContainer\">\r\n          <p className=\"product-card-priceContainer-current product-card-text\">\r\n            {hasValidPrice ? `${currentPrice} ₽` : \"Цена по запросу\"}\r\n          </p>\r\n\r\n          {initialPrice &&\r\n            initialPrice !== \"0\" &&\r\n            initialPrice !== currentPrice && (\r\n              <p className=\"product-card-priceContainer-initial product-card-text\">\r\n                {initialPrice} ₽\r\n              </p>\r\n            )}\r\n        </div>\r\n\r\n        <h4 className=\"product-card-title product-card-text\">\r\n          {hasValidTitle ? title : \"Товар без названия\"}\r\n        </h4>\r\n\r\n        <div className=\"product-card-link-wrapper\">\r\n          <p\r\n            className=\"product-card-link product-card-text\"\r\n            suppressHydrationWarning\r\n          >\r\n            {ru.entities.product.buttonText || \"Перейти к товару\"}\r\n          </p>\r\n        </div>\r\n      </NavLink>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Product;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/Loading.tsx"],"sourcesContent":["import \"@/styles/shared/loading.css\"\r\n\r\nfunction Loading () {\r\n\r\n    return <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n    </div>\r\n}\r\n\r\nexport default Loading;\r\n"],"names":[],"mappings":";;;;;;AAEA,SAAS;IAEL,qBAAO,8OAAC;QAAI,WAAU;kBAClB,cAAA,8OAAC;YAAI,WAAU;;;;;;;;;;;AAEvB;uCAEe","debugId":null}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/sections/ProductsSection.tsx"],"sourcesContent":["\"use client\";\nimport React, { use, useCallback, useEffect, useState, useRef } from \"react\";\n\nimport { observer } from \"mobx-react-lite\";\n\nimport { dataStore } from \"@/store/DataStore\";\nimport { favoritesStore } from \"@/store/FavoritesStore\";\n\nimport Product from \"@/entities/Product\";\n\nimport \"@/styles/widgets/productsSection.css\";\nimport { usePathname } from \"next/navigation\";\nimport Loading from \"@/shared/Loading\";\n\ninterface ProductsSectionProps {\n  isFavorites: boolean;\n  categoryFilter?: number | null;\n  tagFilter?: string | null;\n  customTagFilter?: string[];\n  searchQuery?: string;\n  importanceFilter?: boolean;\n  limit?: number;\n  showOnMainOnly?: boolean;\n}\n\nconst ProductsSection: React.FC<ProductsSectionProps> = observer(\n  ({\n    isFavorites,\n    categoryFilter,\n    tagFilter,\n    customTagFilter,\n    searchQuery = \"\",\n    importanceFilter = false,\n    limit,\n    showOnMainOnly = false,\n  }) => {\n    const pathname = usePathname() || \"\";\n    const sectionRef = useRef<HTMLElement>(null);\n    const loaderRef = useRef<HTMLDivElement>(null);\n\n    const [originalProducts, setOriginalProducts] = useState([] as any[]);\n    const [sortedProducts, setSortedProducts] = useState([] as any[]);\n    const [isLoad, setIsLoad] = useState<boolean | \"pending\">(\"pending\");\n    const [isDataLoad, setIsDataLoad] = useState<boolean>(false);\n    const [visibleCount, setVisibleCount] = useState(12); // Начальное количество отображаемых товаров\n    const [loadingMore, setLoadingMore] = useState(false); // Флаг загрузки дополнительных товаров\n    const [allLoaded, setAllLoaded] = useState(false); // Флаг, что все товары загружены\n    const [isClient, setIsClient] = useState(false);\n\n    useEffect(() => {\n      setIsClient(true);\n    }, []);\n\n    // Функция для безопасного получения цен из параметров продукта\n    const getProductPrices = (product: any) => {\n      // Проверяем наличие массива параметров и его непустоту\n      if (\n        !product.parameters ||\n        !Array.isArray(product.parameters) ||\n        product.parameters.length === 0\n      ) {\n        return { initialPrice: \"\", currentPrice: \"0\" };\n      }\n\n      // Находим параметр с пометкой chosen или берем первый\n      const chosenParam =\n        product.parameters.find((p: any) => p.chosen) || product.parameters[0];\n\n      if (!chosenParam) {\n        return { initialPrice: \"\", currentPrice: \"0\" };\n      }\n\n      // Безопасно извлекаем цены\n      const initialPrice = chosenParam.old_price\n        ? String(chosenParam.old_price)\n        : \"\";\n      const currentPrice = chosenParam.price ? String(chosenParam.price) : \"0\";\n\n      return { initialPrice, currentPrice };\n    };\n\n    const filterProducts = (products: any[], filter: number | null) => {\n      if (!filter) return products;\n      return products.filter(\n        (product) =>\n          product.categories &&\n          Array.isArray(product.categories) &&\n          product.categories.length > 0 &&\n          product.categories[0].Category_ID === filter\n      );\n    };\n\n    const filterCustomProducts = (\n      products: any[],\n      filters: string[] | null\n    ) => {\n      if (!filters || filters.length === 0) return products;\n\n      const filteredProducts = products.filter((product) => {\n        // Разделим фильтры на \"sale\" и остальные кастомные теги\n        const hasSaleFilter = filters.includes(\"sale\");\n        const otherFilters = filters.filter((filter) => filter !== \"sale\");\n\n        // Проверим, соответствует ли товар фильтру \"sale\", если он активен\n        let matchesSale = true;\n        if (hasSaleFilter) {\n          const hasSaleMark =\n            product.marks &&\n            Array.isArray(product.marks) &&\n            product.marks.some((mark: any) => {\n              const isMatch =\n                mark.Mark_Name && mark.Mark_Name.toLowerCase() === \"sale\";\n              return isMatch;\n            });\n\n          matchesSale = hasSaleMark;\n        }\n\n        // Проверим, соответствует ли товар другим кастомным тегам, если они есть\n        let matchesOtherTags = true;\n        if (otherFilters.length > 0) {\n          // Товар должен соответствовать хотя бы одному из выбранных тегов\n          matchesOtherTags =\n            product.tags &&\n            Array.isArray(product.tags) &&\n            otherFilters.some((filter) => product.tags.includes(filter));\n        }\n\n        // В режиме отображения товаров со скидкой с дополнительными тегами:\n        // товар должен иметь метку sale И соответствовать хотя бы одному из выбранных тегов\n        return matchesSale && matchesOtherTags;\n      });\n\n      return filteredProducts;\n    };\n\n    const filterBySearchQuery = (products: any[], query: string) => {\n      if (!query || query.trim() === \"\") return products;\n\n      // Приводим запрос к нижнему регистру и разбиваем на отдельные слова\n      const searchWords = query\n        .toLowerCase()\n        .trim()\n        .split(/\\s+/)\n        .filter((word) => word.length > 0);\n\n      if (searchWords.length === 0) return products;\n\n      return products.filter((product) => {\n        // Если нет названия продукта, пропускаем его\n        if (!product.Product_Name) return false;\n\n        // Получаем текст для поиска: название продукта\n        const productName = product.Product_Name.toLowerCase();\n\n        // Получаем описание продукта, если оно есть\n        let productDescription = \"\";\n        if (\n          product.extras &&\n          Array.isArray(product.extras) &&\n          product.extras.length > 0 &&\n          product.extras[0].Characteristics\n        ) {\n          productDescription = product.extras[0].Characteristics.toLowerCase();\n        }\n\n        // Объединяем название и описание для поиска\n        const searchText = productName + \" \" + productDescription;\n\n        // Проверяем, содержит ли текст все слова из запроса\n        return searchWords.every((word) => searchText.includes(word));\n      });\n    };\n\n    const sortProducts = (products: any[], sortType: string | null) => {\n      if (!sortType) return [...products];\n\n      switch (sortType) {\n        case \"Сначала новые\":\n          return [...products].sort((a, b) => {\n            if (!a.Created_At || !b.Created_At) return 0;\n            return (\n              new Date(b.Created_At).getTime() -\n              new Date(a.Created_At).getTime()\n            );\n          });\n        case \"Сначала старые\":\n          return [...products].sort((a, b) => {\n            if (!a.Created_At || !b.Created_At) return 0;\n            return (\n              new Date(a.Created_At).getTime() -\n              new Date(b.Created_At).getTime()\n            );\n          });\n        case \"Сначала дешевле\":\n          return [...products].sort((a, b) => {\n            const { currentPrice: aCurrentPrice } = getProductPrices(a);\n            const { currentPrice: bCurrentPrice } = getProductPrices(b);\n\n            const aPrice = parseFloat(aCurrentPrice) || 0;\n            const bPrice = parseFloat(bCurrentPrice) || 0;\n\n            return aPrice - bPrice;\n          });\n        case \"Сначала дороже\":\n          return [...products].sort((a, b) => {\n            const { currentPrice: aCurrentPrice } = getProductPrices(a);\n            const { currentPrice: bCurrentPrice } = getProductPrices(b);\n\n            // Преобразуем цены в числа для корректного сравнения\n            const aPrice = parseFloat(aCurrentPrice) || 0;\n            const bPrice = parseFloat(bCurrentPrice) || 0;\n\n            return bPrice - aPrice;\n          });\n        case \"Сначала популярные\":\n          return [...products].sort((a, b) => {\n            if (a.importance_num !== null && b.importance_num !== null) {\n              return b.importance_num - a.importance_num;\n            }\n            if (a.importance_num !== null) return -1;\n            if (b.importance_num !== null) return 1;\n            return 0;\n          });\n        default:\n          return [...products];\n      }\n    };\n\n    const getCorrectArray = useCallback(() => {\n      if (isFavorites) {\n        return sortedProducts.filter((product: any) =>\n          favoritesStore.favoritesIds.includes(product.Product_ID)\n        );\n      } else {\n        return sortedProducts;\n      }\n    }, [isFavorites, sortedProducts, favoritesStore.favoritesIds]);\n\n    const filterOnMainProducts = useCallback(\n      (products: any[]) => {\n        if (!showOnMainOnly) return products;\n        return products.filter((product) => product.OnMain === true);\n      },\n      [showOnMainOnly]\n    );\n\n    useEffect(() => {\n      let result = [...originalProducts] as any[];\n\n      if (showOnMainOnly) {\n        result = filterOnMainProducts(result);\n      }\n\n      if (categoryFilter) {\n        result = filterProducts(result, categoryFilter);\n      }\n\n      if (tagFilter) {\n        result = sortProducts(result, tagFilter);\n      }\n\n      if (customTagFilter && customTagFilter.length > 0) {\n        result = filterCustomProducts(result, customTagFilter);\n      }\n\n      if (searchQuery) {\n        result = filterBySearchQuery(result, searchQuery);\n      }\n\n      if (importanceFilter) {\n        result = [...result].sort((a, b) => {\n          if (a.importance_num !== null && b.importance_num !== null) {\n            return b.importance_num - a.importance_num;\n          }\n          if (a.importance_num !== null) return -1;\n          if (b.importance_num !== null) return 1;\n          return 0;\n        });\n      }\n\n      setSortedProducts(result);\n    }, [\n      originalProducts,\n      categoryFilter,\n      tagFilter,\n      customTagFilter,\n      searchQuery,\n      importanceFilter,\n      showOnMainOnly,\n    ]);\n\n    useEffect(() => {\n      if (Object.entries(dataStore.data).length) {\n        setIsDataLoad(true);\n        setOriginalProducts(dataStore.data?.products || []);\n        setSortedProducts(dataStore.data?.products || []);\n      } else {\n        setIsDataLoad(false);\n      }\n    }, [dataStore.data]);\n\n    useEffect(() => {\n      if (isDataLoad) {\n        const productsArray = getCorrectArray();\n        setIsLoad(productsArray.length > 0);\n      }\n    }, [getCorrectArray, isDataLoad]);\n\n    useEffect(() => {\n      if (pathname.includes(\"shoppingcart\")) {\n        // Ничего не делаем, так как limit теперь является prop\n      }\n    }, [pathname]);\n\n    // Функция для загрузки дополнительных товаров\n    const loadMoreProducts = useCallback(() => {\n      if (loadingMore || allLoaded) return;\n\n      setLoadingMore(true);\n\n      // Имитация задержки загрузки для плавности\n      setTimeout(() => {\n        const currentArray = getCorrectArray();\n        // Если достигли конца списка или задан лимит, не загружаем больше\n        if (\n          visibleCount >= currentArray.length ||\n          (limit && visibleCount >= limit)\n        ) {\n          setAllLoaded(true);\n        } else {\n          // Загружаем следующие 12 товаров\n          setVisibleCount((prevCount) =>\n            Math.min(prevCount + 12, limit || currentArray.length)\n          );\n        }\n        setLoadingMore(false);\n      }, 300);\n    }, [visibleCount, loadingMore, allLoaded, getCorrectArray, limit]);\n\n    // Настройка наблюдателя за прокруткой\n    useEffect(() => {\n      if (!loaderRef.current || !isClient) return;\n\n      const observer = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting && !loadingMore && !allLoaded) {\n            loadMoreProducts();\n          }\n        },\n        { threshold: 0.1 } // Начинаем загрузку, когда видно 10% загрузчика\n      );\n\n      observer.observe(loaderRef.current);\n\n      return () => {\n        if (loaderRef.current) {\n          observer.unobserve(loaderRef.current);\n        }\n      };\n    }, [loadMoreProducts, loadingMore, allLoaded, isClient]);\n\n    // Сбрасываем счетчики при изменении фильтров\n    useEffect(() => {\n      setVisibleCount(12);\n      setAllLoaded(false);\n    }, [\n      categoryFilter,\n      tagFilter,\n      customTagFilter,\n      searchQuery,\n      showOnMainOnly,\n    ]);\n\n    return (\n      <section className=\"productsSection\" ref={sectionRef}>\n        {isLoad === false ? (\n          <div className=\"no-products-message\">товар не найден</div>\n        ) : isLoad === \"pending\" ? (\n          <Loading />\n        ) : (\n          <>\n            <div className=\"productsSection-grid\">\n              {getCorrectArray()\n                .slice(0, limit ? Math.min(visibleCount, limit) : visibleCount)\n                .map((product: any, index: number) => {\n                  if (!product || !product.Product_ID) {\n                    return null;\n                  }\n\n                  const { initialPrice, currentPrice } =\n                    getProductPrices(product);\n                  return (\n                    <Product\n                      key={`${product.Product_ID}-${index}`}\n                      id={product.Product_ID}\n                      tag={\n                        product.marks &&\n                        Array.isArray(product.marks) &&\n                        product.marks.length > 0\n                          ? product.marks[0].Mark_Name\n                          : \"\"\n                      }\n                      images={\n                        Array.isArray(product.images) ? product.images : []\n                      }\n                      initialPrice={initialPrice}\n                      currentPrice={currentPrice}\n                      title={product.Product_Name || \"\"}\n                      categoryId={\n                        product.categories &&\n                        Array.isArray(product.categories) &&\n                        product.categories.length > 0\n                          ? product.categories[0].Category_ID\n                          : 0\n                      }\n                    />\n                  );\n                })}\n            </div>\n\n            {/* Индикатор загрузки дополнительных товаров */}\n            {!allLoaded &&\n              isLoad === true &&\n              getCorrectArray().length > visibleCount && (\n                <div ref={loaderRef} className=\"productsSection-loader\">\n                  {loadingMore && <Loading />}\n                </div>\n              )}\n          </>\n        )}\n      </section>\n    );\n  }\n);\n\nexport default ProductsSection;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1466, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/Slider.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\nimport \"@/styles/shared/slider.css\";\n\ninterface SliderProps {\n  children: any;\n  height: string;\n  between?: string;\n}\n\nconst Slider: React.FC<SliderProps> = ({\n  children,\n  height,\n  between = \"10px\",\n}) => {\n  return (\n    <div style={{ height: height }} className=\"slider-container\">\n      <div style={{ gap: between }} className=\"slider-content\">\n        {React.Children.map(children, (child, index) => (\n          <div key={index} className=\"slider-item\">\n            {child}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Slider;\n"],"names":[],"mappings":";;;;AACA;AADA;;;;AAWA,MAAM,SAAgC,CAAC,EACrC,QAAQ,EACR,MAAM,EACN,UAAU,MAAM,EACjB;IACC,qBACE,8OAAC;QAAI,OAAO;YAAE,QAAQ;QAAO;QAAG,WAAU;kBACxC,cAAA,8OAAC;YAAI,OAAO;gBAAE,KAAK;YAAQ;YAAG,WAAU;sBACrC,qMAAA,CAAA,UAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,sBACpC,8OAAC;oBAAgB,WAAU;8BACxB;mBADO;;;;;;;;;;;;;;;AAOpB;uCAEe","debugId":null}},
    {"offset": {"line": 1512, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/data/categories.ts"],"sourcesContent":["import { dataStore } from \"@/store/DataStore\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Получает актуальные данные категорий из API через DataStore\r\n * @returns Данные категорий и связанная информация\r\n */\r\nexport function getApiData() {\r\n  // Формируем структуру данных, используя данные из DataStore\r\n  // Если данные еще не загружены, возвращаем пустые массивы и объекты\r\n  const apiData = {\r\n    categories: dataStore.data?.categories || [],\r\n    overall_product_tags_by_category:\r\n      dataStore.data?.overall_product_tags_by_category || {},\r\n    product_marks: dataStore.data?.product_marks || [],\r\n  };\r\n\r\n  return apiData;\r\n}\r\n\r\n// Экспортируем категории через геттер\r\nexport const categories = getApiData().categories;\r\n\r\n// Экспортируем весь объект apiData для совместимости\r\nexport const apiData = getApiData();\r\n\r\n// React-хук для получения актуальных категорий в компонентах\r\nexport function useCategories() {\r\n  const [categories, setCategories] = useState(getApiData().categories);\r\n\r\n  useEffect(() => {\r\n    // Начальная установка категорий\r\n    setCategories(getApiData().categories);\r\n\r\n    // Функция обновления категорий при изменении данных\r\n    const updateCategories = () => {\r\n      setCategories(getApiData().categories);\r\n    };\r\n\r\n    // Регистрируем функцию в качестве обработчика обновления данных\r\n    window.addEventListener(\"storeDataUpdated\", updateCategories);\r\n\r\n    // Очистка при размонтировании компонента\r\n    return () => {\r\n      window.removeEventListener(\"storeDataUpdated\", updateCategories);\r\n    };\r\n  }, []);\r\n\r\n  return categories;\r\n}\r\n\r\n// React-хук для получения полных данных API\r\nexport function useApiData() {\r\n  const [data, setData] = useState(getApiData());\r\n\r\n  useEffect(() => {\r\n    // Начальная установка данных\r\n    setData(getApiData());\r\n\r\n    // Функция обновления данных\r\n    const updateData = () => {\r\n      setData(getApiData());\r\n    };\r\n\r\n    // Регистрируем функцию в качестве обработчика обновления данных\r\n    window.addEventListener(\"storeDataUpdated\", updateData);\r\n\r\n    // Очистка при размонтировании компонента\r\n    return () => {\r\n      window.removeEventListener(\"storeDataUpdated\", updateData);\r\n    };\r\n  }, []);\r\n\r\n  return data;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;AAMO,SAAS;IACd,4DAA4D;IAC5D,oEAAoE;IACpE,MAAM,UAAU;QACd,YAAY,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,cAAc,EAAE;QAC5C,kCACE,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,oCAAoC,CAAC;QACvD,eAAe,kHAAA,CAAA,YAAS,CAAC,IAAI,EAAE,iBAAiB,EAAE;IACpD;IAEA,OAAO;AACT;AAGO,MAAM,aAAa,aAAa,UAAU;AAG1C,MAAM,UAAU;AAGhB,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,aAAa,UAAU;IAEpE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,gCAAgC;QAChC,cAAc,aAAa,UAAU;QAErC,oDAAoD;QACpD,MAAM,mBAAmB;YACvB,cAAc,aAAa,UAAU;QACvC;QAEA,gEAAgE;QAChE,OAAO,gBAAgB,CAAC,oBAAoB;QAE5C,yCAAyC;QACzC,OAAO;YACL,OAAO,mBAAmB,CAAC,oBAAoB;QACjD;IACF,GAAG,EAAE;IAEL,OAAO;AACT;AAGO,SAAS;IACd,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,6BAA6B;QAC7B,QAAQ;QAER,4BAA4B;QAC5B,MAAM,aAAa;YACjB,QAAQ;QACV;QAEA,gEAAgE;QAChE,OAAO,gBAAgB,CAAC,oBAAoB;QAE5C,yCAAyC;QACzC,OAAO;YACL,OAAO,mBAAmB,CAAC,oBAAoB;QACjD;IACF,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1577, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/pageContents/HomePageContent.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState, useRef } from \"react\";\n\nimport { observer } from \"mobx-react-lite\";\n\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\n\nimport { dataStore } from \"@/store/DataStore\";\n\nimport { Pagination, Autoplay } from \"swiper/modules\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nimport Link from \"next/link\";\n\nimport ProductsSection from \"@/widgets/sections/ProductsSection\";\n\nimport Slider from \"@/shared/Slider\";\n\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport \"swiper/css/navigation\";\nimport Loading from \"@/shared/Loading\";\nimport { NavLink } from \"react-router-dom\";\nimport { detectIOS } from \"@/utils/detectIOS\";\nimport { useCategories } from \"@/data/categories\";\n\nconst HomePageContent = observer(() => {\n  const [isClient, setIsClient] = useState(false);\n  const [reviewsHref, setReviewsHref] = useState(\"/\");\n  const [reviewsButtonText, setReviewsButtonText] = useState(\"Отзывы\");\n  const [reviewsRating, setReviewsRating] = useState(\"4,9 • 37 000 оценок\");\n\n  useEffect(() => {\n    setIsClient(true);\n\n    // Получаем ссылку на отзывы\n    const linkValue =\n      dataStore.data?.special_project_parameters?.reviews_link_value ||\n      dataStore.data?.special_project_parameters\n        ?.main_page_reviews_block_d_value;\n    if (linkValue) {\n      setReviewsHref(linkValue);\n    }\n\n    // Получаем текст кнопки отзывов\n    const reviewsText =\n      dataStore.data?.special_project_parameters\n        ?.main_page_reviews_block_d_description;\n    if (reviewsText) {\n      setReviewsButtonText(reviewsText);\n    }\n\n    // Получаем текст с рейтингом\n    const ratingText =\n      dataStore.data?.special_project_parameters\n        ?.main_page_reviews_block_d_extra_field_1;\n    if (ratingText) {\n      setReviewsRating(ratingText);\n    }\n  }, [dataStore.data]);\n\n  const renderBanner = () => {\n    if (!isClient) {\n      return (\n        <div\n          className=\"banner-placeholder\"\n          style={{ width: \"100%\", height: \"150px\" }}\n        >\n          <Loading />\n        </div>\n      );\n    }\n\n    const swiperSettings = {\n      modules: [Pagination, Autoplay],\n      spaceBetween: 10,\n      slidesPerView: 1,\n      pagination: { clickable: true },\n      className: \"product-card-swiper\",\n      style: { width: \"100%\", height: \"100%\" },\n      simulateTouch: true,\n      touchRatio: 1,\n      resistanceRatio: 0,\n      preventInteractionOnTransition: false,\n      autoplay: {\n        delay: 4000,\n        disableOnInteraction: true,\n      },\n    };\n\n    return (\n      <Swiper {...swiperSettings}>\n        {dataStore.data.special_project_parameters_actions?.map(\n          (banner: any) => (\n            <SwiperSlide key={banner.id}>\n              <div className=\"swiper-slide-content\">\n                <img\n                  src={banner.image_url ? banner.image_url : undefined}\n                  alt=\"\"\n                  className=\"bannerImage\"\n                />\n              </div>\n            </SwiperSlide>\n          )\n        )}\n      </Swiper>\n    );\n  };\n\n  return (\n    <main\n      data-page=\"index\"\n      className={`homeMain ${detectIOS() ? \"homeMain--ios\" : \"\"}`}\n    >\n      <div className=\"banner\">{renderBanner()}</div>\n\n      <div className=\"infoCards\">\n        <Link href={reviewsHref} className=\"reviewsCard click-effect-block\">\n          <p className=\"reviewsTitle\">{reviewsButtonText}</p>\n\n          <div className=\"ratingContainer\">\n            <img src={`${iconsBaseLink}rating-icon.png`} alt=\"\" />\n          </div>\n\n          <p className=\"ratingText\">{reviewsRating}</p>\n        </Link>\n\n        <NavLink\n          to=\"/catalog?tag=sale\"\n          className=\"salesCard click-effect-block\"\n        >\n          <img src={`${iconsBaseLink}sales-icon.svg`} alt=\"\" />\n\n          <p className=\"salesText\">\n            Акции <br />и скидки\n          </p>\n        </NavLink>\n      </div>\n\n      <div className=\"categoriesContainer\">\n        <Slider height={\"100%\"}>\n          {useCategories().map(\n            (category: {\n              Category_ID: number;\n              Category_Image: string;\n              Category_Name: string;\n            }) => (\n              <NavLink\n                key={category.Category_ID}\n                to={`/catalog?category=${category.Category_ID}`}\n                className=\"categoryItem\"\n              >\n                <img\n                  src={\n                    category.Category_Image\n                      ? category.Category_Image\n                      : undefined\n                  }\n                  alt=\"\"\n                />\n\n                <p className=\"categoryTitle\">\n                  {category.Category_ID === 2\n                    ? \"Аксессуары и техника\"\n                    : category.Category_Name}\n                </p>\n              </NavLink>\n            )\n          )}\n        </Slider>\n      </div>\n      <ProductsSection\n        isFavorites={false}\n        importanceFilter={true}\n        limit={10}\n        showOnMainOnly={true}\n      />\n    </main>\n  );\n});\n\nexport default HomePageContent;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1873, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/CategoryFilter.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef } from \"react\";\n\nimport { useCategories } from \"@/data/categories\";\n\nimport Slider from \"@/shared/Slider\";\n\nimport \"@/styles/shared/categoryFilter.css\";\n\ninterface CategoryFilterProps {\n  activeCategory: number | null;\n  onCategoryChange: (categoryId: number) => void;\n}\n\ninterface Category {\n  Category_ID: number;\n  Category_Image: string;\n  Category_Name: string;\n}\n\nconst CategoryFilter: React.FC<CategoryFilterProps> = ({\n  activeCategory,\n  onCategoryChange,\n}) => {\n  // Получаем актуальные данные категорий с помощью хука\n  const categories = useCategories();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const categoryRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n  // Новая функция для прокрутки к активной категории\n  const scrollToActiveCategory = () => {\n    if (!activeCategory || !containerRef.current) return;\n\n    // Находим индекс активной категории\n    const activeCategoryIndex = categories.findIndex(\n      (cat: Category) => cat.Category_ID === activeCategory\n    );\n\n    // Если нашли категорию и есть ссылка на DOM-элемент\n    if (\n      activeCategoryIndex !== -1 &&\n      categoryRefs.current[activeCategoryIndex]\n    ) {\n      const activeElement = categoryRefs.current[activeCategoryIndex];\n\n      // Проверяем, что элемент существует\n      if (activeElement) {\n        // Находим контейнер со скроллом\n        const scrollContainer =\n          containerRef.current.querySelector(\".slider-container\");\n\n        if (scrollContainer) {\n          // Прокручиваем элемент в видимую область\n          activeElement.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\",\n            inline: \"center\",\n          });\n        }\n      }\n    }\n  };\n\n  // Вызываем скролл при изменении активной категории или списка категорий\n  useEffect(() => {\n    if (activeCategory && categories.length > 0) {\n      // Задержка для уверенности, что DOM готов\n      setTimeout(scrollToActiveCategory, 300);\n    }\n  }, [activeCategory, categories]);\n\n  // Обработчик клика по категории\n  const handleCategoryClick = (categoryId: number) => {\n    onCategoryChange(categoryId);\n\n    // Если выбирается новая категория (не снимается выбор), скроллим к ней\n    if (categoryId !== activeCategory) {\n      setTimeout(scrollToActiveCategory, 50);\n    }\n  };\n\n  return (\n    <div className=\"categoryFilter\" ref={containerRef}>\n      <Slider height={\"38px\"}>\n        {categories.map((category: Category, index: number) => (\n          <div\n            key={category.Category_ID}\n            ref={(el) => {\n              categoryRefs.current[index] = el;\n            }}\n            className={`categoryFilter-tag ${\n              activeCategory === category.Category_ID\n                ? \"categoryFilter-tag--active\"\n                : \"\"\n            }`}\n            onClick={() => handleCategoryClick(category.Category_ID)}\n          >\n            <img src={category.Category_Image} alt=\"\" />\n\n            <p className=\"categoryFilter-tag-title\">{category.Category_Name}</p>\n\n            {activeCategory === category.Category_ID && (\n              <button\n                className=\"categoryFilter-tag-closeButton\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onCategoryChange(category.Category_ID);\n                }}\n              >\n                <svg\n                  width=\"10\"\n                  height=\"10\"\n                  viewBox=\"0 0 9 10\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M1 8.5L8 1.5\"\n                    stroke=\"#ffffff\"\n                    strokeWidth=\"1.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                  <path\n                    d=\"M8 8.5L1 1.5\"\n                    stroke=\"#ffffff\"\n                    strokeWidth=\"1.5\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </button>\n            )}\n          </div>\n        ))}\n      </Slider>\n    </div>\n  );\n};\n\nexport default CategoryFilter;\n"],"names":[],"mappings":";;;;AACA;AAEA;AAEA;AALA;;;;;;AAoBA,MAAM,iBAAgD,CAAC,EACrD,cAAc,EACd,gBAAgB,EACjB;IACC,sDAAsD;IACtD,MAAM,aAAa,CAAA,GAAA,kHAAA,CAAA,gBAAa,AAAD;IAC/B,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA6B,EAAE;IAEzD,mDAAmD;IACnD,MAAM,yBAAyB;QAC7B,IAAI,CAAC,kBAAkB,CAAC,aAAa,OAAO,EAAE;QAE9C,oCAAoC;QACpC,MAAM,sBAAsB,WAAW,SAAS,CAC9C,CAAC,MAAkB,IAAI,WAAW,KAAK;QAGzC,oDAAoD;QACpD,IACE,wBAAwB,CAAC,KACzB,aAAa,OAAO,CAAC,oBAAoB,EACzC;YACA,MAAM,gBAAgB,aAAa,OAAO,CAAC,oBAAoB;YAE/D,oCAAoC;YACpC,IAAI,eAAe;gBACjB,gCAAgC;gBAChC,MAAM,kBACJ,aAAa,OAAO,CAAC,aAAa,CAAC;gBAErC,IAAI,iBAAiB;oBACnB,yCAAyC;oBACzC,cAAc,cAAc,CAAC;wBAC3B,UAAU;wBACV,OAAO;wBACP,QAAQ;oBACV;gBACF;YACF;QACF;IACF;IAEA,wEAAwE;IACxE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,kBAAkB,WAAW,MAAM,GAAG,GAAG;YAC3C,0CAA0C;YAC1C,WAAW,wBAAwB;QACrC;IACF,GAAG;QAAC;QAAgB;KAAW;IAE/B,gCAAgC;IAChC,MAAM,sBAAsB,CAAC;QAC3B,iBAAiB;QAEjB,uEAAuE;QACvE,IAAI,eAAe,gBAAgB;YACjC,WAAW,wBAAwB;QACrC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAiB,KAAK;kBACnC,cAAA,8OAAC,iHAAA,CAAA,UAAM;YAAC,QAAQ;sBACb,WAAW,GAAG,CAAC,CAAC,UAAoB,sBACnC,8OAAC;oBAEC,KAAK,CAAC;wBACJ,aAAa,OAAO,CAAC,MAAM,GAAG;oBAChC;oBACA,WAAW,CAAC,mBAAmB,EAC7B,mBAAmB,SAAS,WAAW,GACnC,+BACA,IACJ;oBACF,SAAS,IAAM,oBAAoB,SAAS,WAAW;;sCAEvD,8OAAC;4BAAI,KAAK,SAAS,cAAc;4BAAE,KAAI;;;;;;sCAEvC,8OAAC;4BAAE,WAAU;sCAA4B,SAAS,aAAa;;;;;;wBAE9D,mBAAmB,SAAS,WAAW,kBACtC,8OAAC;4BACC,WAAU;4BACV,SAAS,CAAC;gCACR,EAAE,eAAe;gCACjB,iBAAiB,SAAS,WAAW;4BACvC;sCAEA,cAAA,8OAAC;gCACC,OAAM;gCACN,QAAO;gCACP,SAAQ;gCACR,MAAK;gCACL,OAAM;;kDAEN,8OAAC;wCACC,GAAE;wCACF,QAAO;wCACP,aAAY;wCACZ,eAAc;wCACd,gBAAe;;;;;;kDAEjB,8OAAC;wCACC,GAAE;wCACF,QAAO;wCACP,aAAY;wCACZ,eAAc;wCACd,gBAAe;;;;;;;;;;;;;;;;;;mBA1ClB,SAAS,WAAW;;;;;;;;;;;;;;;AAoDrC;uCAEe","debugId":null}},
    {"offset": {"line": 2030, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/data/tags.ts"],"sourcesContent":["export const tags = [\n  {\n    id: 5,\n    title: \"Популярные\",\n  },\n  {\n    id: 1,\n    title: \"Новые\",\n  },\n  {\n    id: 3,\n    title: \"Сначала дешевле\",\n  },\n  {\n    id: 4,\n    title: \"Сначала дороже\",\n  },\n];\n"],"names":[],"mappings":";;;AAAO,MAAM,OAAO;IAClB;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;IACA;QACE,IAAI;QACJ,OAAO;IACT;CACD","debugId":null}},
    {"offset": {"line": 2057, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/TagsFilter.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef } from \"react\";\n\nimport { tags } from \"@/data/tags\";\n\nimport Slider from \"@/shared/Slider\";\n\nimport \"@/styles/shared/tagsFilter.css\";\n\ninterface TagsFilterProps {\n  activeTag: string | null;\n  onTagChange: (tag: string) => void;\n}\n\nconst TagsFilter: React.FC<TagsFilterProps> = ({ activeTag, onTagChange }) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const tagRefs = useRef<(HTMLDivElement | null)[]>([]);\n\n  // Новая функция для прокрутки к активному тегу\n  const scrollToActiveTag = () => {\n    if (!activeTag || !containerRef.current) return;\n\n    // Находим индекс активного тега\n    const activeTagIndex = tags.findIndex((tag) => tag.title === activeTag);\n\n    // Если нашли тег и есть ссылка на DOM-элемент\n    if (activeTagIndex !== -1 && tagRefs.current[activeTagIndex]) {\n      const activeElement = tagRefs.current[activeTagIndex];\n\n      // Проверяем, что элемент существует\n      if (activeElement) {\n        // Находим контейнер со скроллом\n        const scrollContainer =\n          containerRef.current.querySelector(\".slider-container\");\n\n        if (scrollContainer) {\n          // Прокручиваем элемент в видимую область\n          activeElement.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\",\n            inline: \"center\",\n          });\n        }\n      }\n    }\n  };\n\n  // Вызываем скролл при изменении активного тега\n  useEffect(() => {\n    if (activeTag && tags.length > 0) {\n      // Задержка для уверенности, что DOM готов\n      setTimeout(scrollToActiveTag, 300);\n    }\n  }, [activeTag]);\n\n  // Обработчик клика по тегу\n  const handleTagClick = (tag: string) => {\n    onTagChange(tag);\n\n    // Если выбирается новый тег (не снимается выбор), скроллим к нему\n    if (tag !== activeTag) {\n      setTimeout(scrollToActiveTag, 50);\n    }\n  };\n\n  return (\n    <div className=\"tagsFilter\" ref={containerRef}>\n      <Slider height={\"38px\"}>\n        {tags.map((tag, index) => (\n          <div\n            key={tag.id}\n            ref={(el) => {\n              tagRefs.current[index] = el;\n            }}\n            className={`tagsFilter-tag ${\n              activeTag === tag.title ? \"tagsFilter-tag--active\" : \"\"\n            } ${tag.title === \"Сначала дешевле\" ? \"price-sort-tag\" : \"\"}`}\n            onClick={() => handleTagClick(tag.title)}\n          >\n            <p className=\"tagsFilter-tag-title\">{tag.title}</p>\n\n            {activeTag === tag.title &&\n              activeTag.trim() === tag.title.trim() && (\n                <button\n                  className=\"tagsFilter-tag-closeButton\"\n                  style={{\n                    display: activeTag === tag.title ? \"block\" : \"none\",\n                  }}\n                >\n                  <svg\n                    width=\"10\"\n                    height=\"10\"\n                    viewBox=\"0 0 9 10\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M1 8.5L8 1.5\"\n                      stroke=\"#ffffff\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                    <path\n                      d=\"M8 8.5L1 1.5\"\n                      stroke=\"#ffffff\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                  </svg>\n                </button>\n              )}\n          </div>\n        ))}\n      </Slider>\n    </div>\n  );\n};\n\nexport default TagsFilter;\n"],"names":[],"mappings":";;;;AACA;AAEA;AAEA;AALA;;;;;;AAcA,MAAM,aAAwC,CAAC,EAAE,SAAS,EAAE,WAAW,EAAE;IACvE,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAA6B,EAAE;IAEpD,+CAA+C;IAC/C,MAAM,oBAAoB;QACxB,IAAI,CAAC,aAAa,CAAC,aAAa,OAAO,EAAE;QAEzC,gCAAgC;QAChC,MAAM,iBAAiB,4GAAA,CAAA,OAAI,CAAC,SAAS,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK;QAE7D,8CAA8C;QAC9C,IAAI,mBAAmB,CAAC,KAAK,QAAQ,OAAO,CAAC,eAAe,EAAE;YAC5D,MAAM,gBAAgB,QAAQ,OAAO,CAAC,eAAe;YAErD,oCAAoC;YACpC,IAAI,eAAe;gBACjB,gCAAgC;gBAChC,MAAM,kBACJ,aAAa,OAAO,CAAC,aAAa,CAAC;gBAErC,IAAI,iBAAiB;oBACnB,yCAAyC;oBACzC,cAAc,cAAc,CAAC;wBAC3B,UAAU;wBACV,OAAO;wBACP,QAAQ;oBACV;gBACF;YACF;QACF;IACF;IAEA,+CAA+C;IAC/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,aAAa,4GAAA,CAAA,OAAI,CAAC,MAAM,GAAG,GAAG;YAChC,0CAA0C;YAC1C,WAAW,mBAAmB;QAChC;IACF,GAAG;QAAC;KAAU;IAEd,2BAA2B;IAC3B,MAAM,iBAAiB,CAAC;QACtB,YAAY;QAEZ,kEAAkE;QAClE,IAAI,QAAQ,WAAW;YACrB,WAAW,mBAAmB;QAChC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAa,KAAK;kBAC/B,cAAA,8OAAC,iHAAA,CAAA,UAAM;YAAC,QAAQ;sBACb,4GAAA,CAAA,OAAI,CAAC,GAAG,CAAC,CAAC,KAAK,sBACd,8OAAC;oBAEC,KAAK,CAAC;wBACJ,QAAQ,OAAO,CAAC,MAAM,GAAG;oBAC3B;oBACA,WAAW,CAAC,eAAe,EACzB,cAAc,IAAI,KAAK,GAAG,2BAA2B,GACtD,CAAC,EAAE,IAAI,KAAK,KAAK,oBAAoB,mBAAmB,IAAI;oBAC7D,SAAS,IAAM,eAAe,IAAI,KAAK;;sCAEvC,8OAAC;4BAAE,WAAU;sCAAwB,IAAI,KAAK;;;;;;wBAE7C,cAAc,IAAI,KAAK,IACtB,UAAU,IAAI,OAAO,IAAI,KAAK,CAAC,IAAI,oBACjC,8OAAC;4BACC,WAAU;4BACV,OAAO;gCACL,SAAS,cAAc,IAAI,KAAK,GAAG,UAAU;4BAC/C;sCAEA,cAAA,8OAAC;gCACC,OAAM;gCACN,QAAO;gCACP,SAAQ;gCACR,MAAK;gCACL,OAAM;;kDAEN,8OAAC;wCACC,GAAE;wCACF,QAAO;wCACP,aAAY;wCACZ,eAAc;wCACd,gBAAe;;;;;;kDAEjB,8OAAC;wCACC,GAAE;wCACF,QAAO;wCACP,aAAY;wCACZ,eAAc;wCACd,gBAAe;;;;;;;;;;;;;;;;;;mBAtCpB,IAAI,EAAE;;;;;;;;;;;;;;;AAgDvB;uCAEe","debugId":null}},
    {"offset": {"line": 2202, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/CustomTagsFilter.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { dataStore } from \"@/store/DataStore\";\n\nimport \"@/styles/shared/tagsFilter.css\";\nimport Loading from \"./Loading\";\n\ninterface CustomTagsFilterProps {\n  activeCustomTag: string[];\n  onCustomTagChange: (tag: string) => void;\n  activeCategory?: string | null;\n}\n\nconst CustomTagsFilter: React.FC<CustomTagsFilterProps> = observer(\n  ({ activeCustomTag, onCustomTagChange, activeCategory }) => {\n    const [isClient, setIsClient] = useState(false);\n    const [activeCategoryTags, setActiveCategoryTags] = useState<{\n      [key: string]: number;\n    }>({});\n    const [isLoading, setIsLoading] = useState(true);\n    const tagRefs = useRef<(HTMLDivElement | null)[]>([]);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const [visibleTagCount, setVisibleTagCount] = useState(0);\n    const [initialCalculatedTagCount, setInitialCalculatedTagCount] =\n      useState(0);\n    const [allTagsAreVisible, setAllTagsAreVisible] = useState(false);\n    const [tagWidths, setTagWidths] = useState<number[]>([]);\n    const [movingTag, setMovingTag] = useState<string | null>(null);\n    const [animating, setAnimating] = useState(false);\n\n    // Обработчик клика по тегу с анимацией\n    const handleTagClick = (tagName: string) => {\n      if (animating) return; // Избегаем двойных кликов во время анимации\n\n      const isAlreadyActive = activeCustomTag.includes(tagName);\n\n      // Проверка, является ли тег \"sale\" тегом\n      const isSaleTag = tagName.toLowerCase() === \"sale\";\n\n      if (!isAlreadyActive) {\n        // Если тег активируется, запускаем анимацию\n        setMovingTag(tagName);\n        setAnimating(true);\n\n        // Даем время CSS-анимации\n        setTimeout(() => {\n          // Вызываем обработчик изменения тега\n          onCustomTagChange(tagName);\n\n          // После завершения анимации сбрасываем состояние\n          setTimeout(() => {\n            setMovingTag(null);\n            setAnimating(false);\n          }, 400); // Время анимации\n        }, 200);\n      } else {\n        // Если тег деактивируется, просто вызываем обработчик без анимации\n        onCustomTagChange(tagName);\n      }\n    };\n\n    // Функция для прокрутки к активному тегу\n    const scrollToActiveTag = () => {\n      if (!isClient || !containerRef.current || activeCustomTag.length === 0)\n        return;\n\n      // Находим индекс первого активного тега\n      const activeTagIndex = Object.keys(activeCategoryTags).findIndex((tag) =>\n        activeCustomTag.includes(tag)\n      );\n\n      if (activeTagIndex !== -1 && tagRefs.current[activeTagIndex]) {\n        const activeTagElement = tagRefs.current[activeTagIndex];\n        if (activeTagElement) {\n          // Прокручиваем контейнер так, чтобы активный тег был виден\n          const container = containerRef.current;\n          const tagRect = activeTagElement.getBoundingClientRect();\n          const containerRect = container.getBoundingClientRect();\n\n          // Вычисляем позицию для прокрутки, чтобы тег был по центру\n          const scrollLeft =\n            activeTagElement.offsetLeft -\n            containerRect.width / 2 +\n            tagRect.width / 2;\n\n          // Плавная прокрутка к тегу\n          container.scrollTo({\n            left: scrollLeft,\n            behavior: \"smooth\",\n          });\n        }\n      }\n    };\n\n    useEffect(() => {\n      setIsClient(true);\n    }, []);\n\n    // useEffect для измерения ширин тегов\n    useEffect(() => {\n      if (\n        !isClient ||\n        isLoading ||\n        Object.keys(activeCategoryTags).length === 0\n      ) {\n        if (Object.keys(activeCategoryTags).length === 0) {\n          setTagWidths([]);\n        }\n        return;\n      }\n\n      const measureTagWidths = () => {\n        const currentTotalTags = Object.keys(activeCategoryTags).length;\n        let allRefsAvailable = tagRefs.current.length >= currentTotalTags;\n        if (allRefsAvailable) {\n          for (let i = 0; i < currentTotalTags; i++) {\n            if (!tagRefs.current[i]) {\n              allRefsAvailable = false;\n              break;\n            }\n          }\n        }\n\n        if (allRefsAvailable) {\n          const newWidths = Array(currentTotalTags);\n          for (let i = 0; i < currentTotalTags; i++) {\n            newWidths[i] = tagRefs.current[i]!.offsetWidth;\n          }\n          setTagWidths(newWidths);\n        } else {\n        }\n      };\n\n      const measurementTimeoutId = setTimeout(measureTagWidths, 50);\n\n      return () => clearTimeout(measurementTimeoutId);\n    }, [isClient, isLoading, activeCategoryTags]);\n\n    useEffect(() => {\n      if (\n        !isClient ||\n        typeof window === \"undefined\" ||\n        isLoading ||\n        Object.keys(activeCategoryTags).length === 0 ||\n        tagWidths.length === 0 ||\n        tagWidths.length !== Object.keys(activeCategoryTags).length\n      ) {\n        return;\n      }\n\n      const calculateMaxTags = () => {\n        let currentViewportWidth = window.innerWidth;\n        const maxContainerWidth = 600;\n        const moreButtonWidth = 37;\n        const tagMargin = 5;\n\n        if (currentViewportWidth > maxContainerWidth) {\n          currentViewportWidth = maxContainerWidth;\n        }\n\n        const tagsEntries = Object.entries(activeCategoryTags);\n        const totalTags = tagsEntries.length;\n\n        if (totalTags === 0) {\n          setInitialCalculatedTagCount(0);\n          setVisibleTagCount(0);\n          return;\n        }\n\n        const countFittingTags = (\n          availableWidth: number,\n          maxTagsToConsider: number = totalTags\n        ): number => {\n          let fitCount = 0;\n          let currentWidthSum = 0;\n          for (let i = 0; i < maxTagsToConsider; i++) {\n            const tagWidth = tagWidths[i];\n            if (typeof tagWidth === \"number\") {\n              const widthWithMargin = tagWidth + (fitCount > 0 ? tagMargin : 0);\n              if (currentWidthSum + widthWithMargin <= availableWidth) {\n                currentWidthSum += widthWithMargin;\n                fitCount++;\n              } else {\n                break;\n              }\n            } else {\n              break;\n            }\n          }\n          return fitCount;\n        };\n\n        let numTagsToSetVisible = 0;\n        let countForInitialAndMoreButtonText = 0;\n\n        if (allTagsAreVisible) {\n          numTagsToSetVisible = totalTags;\n          let baseFitForHiddenState = countFittingTags(currentViewportWidth);\n          if (baseFitForHiddenState < totalTags) {\n            const spaceForMoreBtn =\n              moreButtonWidth +\n              (countFittingTags(currentViewportWidth - moreButtonWidth) > 0\n                ? tagMargin\n                : 0);\n            let fitWithMoreBtnInHiddenState = countFittingTags(\n              currentViewportWidth - spaceForMoreBtn\n            );\n            countForInitialAndMoreButtonText =\n              fitWithMoreBtnInHiddenState > 0\n                ? fitWithMoreBtnInHiddenState\n                : baseFitForHiddenState;\n          } else {\n            countForInitialAndMoreButtonText = baseFitForHiddenState;\n          }\n        } else {\n          let tagsFittingWithoutMoreBtn =\n            countFittingTags(currentViewportWidth);\n\n          if (tagsFittingWithoutMoreBtn < totalTags) {\n            const spaceRequiredForMoreButton =\n              moreButtonWidth +\n              (countFittingTags(currentViewportWidth - moreButtonWidth) > 0\n                ? tagMargin\n                : 0);\n\n            let tagsFittingWithMoreBtnPlaceholder = countFittingTags(\n              currentViewportWidth - spaceRequiredForMoreButton\n            );\n\n            if (tagsFittingWithMoreBtnPlaceholder > 0) {\n              numTagsToSetVisible = tagsFittingWithMoreBtnPlaceholder;\n              countForInitialAndMoreButtonText =\n                tagsFittingWithMoreBtnPlaceholder;\n            } else if (tagsFittingWithoutMoreBtn > 0) {\n              numTagsToSetVisible = tagsFittingWithoutMoreBtn;\n              countForInitialAndMoreButtonText = tagsFittingWithoutMoreBtn;\n            } else {\n              numTagsToSetVisible = 0;\n              countForInitialAndMoreButtonText = 0;\n            }\n          } else {\n            numTagsToSetVisible = tagsFittingWithoutMoreBtn;\n            countForInitialAndMoreButtonText = tagsFittingWithoutMoreBtn;\n          }\n        }\n\n        setInitialCalculatedTagCount(countForInitialAndMoreButtonText);\n        setVisibleTagCount(numTagsToSetVisible);\n      };\n\n      const timerId = setTimeout(calculateMaxTags, 50);\n\n      window.addEventListener(\"resize\", calculateMaxTags);\n\n      return () => {\n        clearTimeout(timerId);\n        window.removeEventListener(\"resize\", calculateMaxTags);\n      };\n    }, [isClient, activeCategoryTags, isLoading, allTagsAreVisible, tagWidths]);\n\n    useEffect(() => {\n      if (!isClient) return;\n\n      const timer = setTimeout(() => {\n        let categoryTags: { [key: string]: number } = {};\n\n        if (!dataStore.data?.overall_product_tags_by_category) {\n          setActiveCategoryTags({});\n          setIsLoading(false);\n          return;\n        }\n\n        if (!activeCategory) {\n          Object.entries(\n            dataStore.data.overall_product_tags_by_category\n          ).forEach(([, categoryTagsObj]) => {\n            if (categoryTagsObj) {\n              Object.entries(categoryTagsObj).forEach(([tagName, count]) => {\n                if (categoryTags[tagName]) {\n                  categoryTags[tagName] += count as number;\n                } else {\n                  categoryTags[tagName] = count as number;\n                }\n              });\n            }\n          });\n        } else {\n          categoryTags =\n            dataStore.data.overall_product_tags_by_category[activeCategory] ||\n            {};\n        }\n\n        // Добавляем специальный тег \"Sale\" для товаров со скидкой\n        // Получаем количество товаров со скидкой из данных\n        let saleItemsCount = 0;\n\n        interface ProductMark {\n          Mark_Name?: string;\n          [key: string]: any;\n        }\n\n        interface Product {\n          marks?: ProductMark[];\n          categories?: Array<{ Category_ID: number }>;\n          tags?: string[];\n          [key: string]: any;\n        }\n\n        if (\n          dataStore.data?.products &&\n          Array.isArray(dataStore.data.products)\n        ) {\n          // Фильтруем продукты по текущей категории, если она выбрана\n          let filteredProducts = dataStore.data.products;\n          if (activeCategory) {\n            const activeCategoryId = parseInt(activeCategory, 10);\n            filteredProducts = filteredProducts.filter(\n              (product: Product) =>\n                product.categories &&\n                Array.isArray(product.categories) &&\n                product.categories.some(\n                  (cat) => cat.Category_ID === activeCategoryId\n                )\n            );\n          }\n\n          // Проверяем, есть ли \"sale\" в активных тегах\n          const isSaleActive = activeCustomTag.includes(\"sale\");\n\n          // Находим товары со скидкой\n          const saleProducts = filteredProducts.filter(\n            (product: Product) =>\n              product.marks &&\n              Array.isArray(product.marks) &&\n              product.marks.some(\n                (mark: ProductMark) =>\n                  mark.Mark_Name && mark.Mark_Name.toLowerCase() === \"sale\"\n              )\n          );\n\n          saleItemsCount = saleProducts.length;\n\n          // Если \"sale\" активен, перестраиваем список тегов\n          if (isSaleActive && saleItemsCount > 0) {\n            // Собираем теги, которые есть в товарах со скидкой\n            const tagsInSaleProducts: { [key: string]: number } = {};\n\n            // Всегда добавляем \"sale\" тег\n            tagsInSaleProducts[\"sale\"] = saleItemsCount;\n\n            // Подсчитываем встречаемость других тегов в товарах со скидкой\n            saleProducts.forEach((product: Product) => {\n              if (product.tags && Array.isArray(product.tags)) {\n                product.tags.forEach((tag) => {\n                  if (tag.toLowerCase() !== \"sale\") {\n                    // Исключаем сам тег sale\n                    if (tagsInSaleProducts[tag]) {\n                      tagsInSaleProducts[tag]++;\n                    } else {\n                      tagsInSaleProducts[tag] = 1;\n                    }\n                  }\n                });\n              }\n            });\n\n            // Заменяем список тегов только на те, которые есть в товарах со скидкой\n            categoryTags = tagsInSaleProducts;\n          }\n          // Если \"sale\" не активен, добавляем его как обычно\n          else if (saleItemsCount > 0) {\n            categoryTags[\"sale\"] = saleItemsCount;\n          }\n        }\n\n        setActiveCategoryTags(categoryTags);\n        setIsLoading(false);\n\n        // Если есть активные теги, делаем все теги видимыми, чтобы активные теги были видны\n        if (activeCustomTag.length > 0) {\n          setAllTagsAreVisible(true);\n          setVisibleTagCount(Object.keys(categoryTags).length);\n        } else if (categoryTags && Object.keys(categoryTags).length > 0) {\n          setVisibleTagCount(Object.keys(categoryTags).length);\n        } else {\n          setVisibleTagCount(0);\n        }\n        setInitialCalculatedTagCount(0);\n      }, 500);\n\n      return () => clearTimeout(timer);\n    }, [activeCategory, dataStore.data, isClient, activeCustomTag]);\n\n    // Добавляем эффект для отслеживания изменений в активных тегах\n    useEffect(() => {\n      if (\n        !isClient ||\n        isLoading ||\n        Object.keys(activeCategoryTags).length === 0\n      )\n        return;\n\n      // Если есть активные теги, делаем все теги видимыми\n      if (activeCustomTag.length > 0) {\n        setAllTagsAreVisible(true);\n        setVisibleTagCount(Object.keys(activeCategoryTags).length);\n\n        // Прокручиваем к активному тегу после небольшой задержки,\n        // чтобы дать время для рендеринга\n        setTimeout(() => {\n          scrollToActiveTag();\n        }, 300);\n      }\n    }, [activeCustomTag, isClient, isLoading, activeCategoryTags]);\n\n    // Эффект для прокрутки к активному тегу после полной загрузки компонента\n    useEffect(() => {\n      if (isClient && !isLoading && activeCustomTag.length > 0) {\n        setTimeout(() => {\n          scrollToActiveTag();\n        }, 500);\n      }\n    }, [isClient, isLoading]);\n\n    if (!isClient) {\n      return (\n        <div className=\"tagsFilter custom-tagsFilter tagsFilter-loading\">\n          <Loading />\n        </div>\n      );\n    }\n\n    if (isLoading) {\n      return (\n        <div className=\"tagsFilter custom-tagsFilter tagsFilter-loading\">\n          <Loading />\n        </div>\n      );\n    }\n\n    if (Object.keys(activeCategoryTags).length === 0) {\n      return (\n        <div className=\"tagsFilter custom-tagsFilter tagsFilter-empty\">\n          <div className=\"tagsFilter-empty-message\"></div>\n        </div>\n      );\n    }\n\n    // Сортируем теги так, чтобы \"sale\" и активные были вначале\n    const allTagsArray = Object.entries(activeCategoryTags).sort((a, b) => {\n      // Специальный тег \"sale\" всегда в начале\n      if (a[0].toLowerCase() === \"sale\") return -1;\n      if (b[0].toLowerCase() === \"sale\") return 1;\n\n      // Затем идут активные теги\n      const isAActive = activeCustomTag.includes(a[0]);\n      const isBActive = activeCustomTag.includes(b[0]);\n      if (isAActive && !isBActive) return -1;\n      if (!isAActive && isBActive) return 1;\n      return 0;\n    });\n\n    const tagsToDisplay = allTagsArray.slice(\n      0,\n      visibleTagCount === 0 &&\n        !allTagsAreVisible &&\n        initialCalculatedTagCount === 0\n        ? 0\n        : visibleTagCount\n    );\n    const showMoreButton =\n      !allTagsAreVisible &&\n      allTagsArray.length > initialCalculatedTagCount &&\n      initialCalculatedTagCount > 0;\n    const showHideButton =\n      allTagsAreVisible && allTagsArray.length > initialCalculatedTagCount;\n\n    return (\n      <div className=\"tagsFilter custom-tagsFilter\">\n        <div\n          ref={containerRef}\n          className={`custom-tagsFilter-tags ${showHideButton ? \"custom-tagsFilter-tags--open\" : \"\"}`}\n        >\n          {tagsToDisplay.map(([tagName, count], index) => (\n            <div\n              key={index}\n              ref={(el) => {\n                tagRefs.current[index] = el;\n              }}\n              suppressHydrationWarning\n              className={`tagsFilter-tag \n                ${activeCustomTag.includes(tagName) ? \"tagsFilter-tag--active\" : \"\"} \n                ${tagName.toLowerCase() === \"sale\" ? \"tagsFilter-tag--sale\" : \"\"}\n                ${movingTag === tagName ? \"tagsFilter-tag--moving-front\" : \"\"}\n                ${movingTag && movingTag !== tagName && index < 3 ? \"tagsFilter-tag--shifting\" : \"\"}\n              `}\n              onClick={() => handleTagClick(tagName)}\n            >\n              <p className=\"tagsFilter-tag-title\">\n                {tagName.toLowerCase() === \"sale\" ? \"Sale\" : tagName}\n                {!activeCustomTag.includes(tagName) ? (\n                  <span className=\"tagsFilter-tag-count\">{count}</span>\n                ) : (\n                  <span className=\"tagsFilter-tag-close\">\n                    <svg\n                      width=\"10\"\n                      height=\"10\"\n                      viewBox=\"0 0 9 10\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M1 8.5L8 1.5\"\n                        stroke=\"#ffffff\"\n                        strokeWidth=\"1.5\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                      <path\n                        d=\"M8 8.5L1 1.5\"\n                        stroke=\"#ffffff\"\n                        strokeWidth=\"1.5\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                  </span>\n                )}\n              </p>\n            </div>\n          ))}\n\n          {showHideButton && (\n            <button\n              className=\" tagsFilter-hideButton\"\n              onClick={() => {\n                setAllTagsAreVisible(false);\n                setVisibleTagCount(initialCalculatedTagCount);\n              }}\n            >\n              <p>Скрыть</p>\n            </button>\n          )}\n        </div>\n        {showMoreButton && (\n          <button\n            className=\"tagsFilter-moreButton\"\n            onClick={() => {\n              setAllTagsAreVisible(true);\n              setVisibleTagCount(allTagsArray.length);\n            }}\n          >\n            <p> Ещё ({allTagsArray.length - initialCalculatedTagCount})</p>\n          </button>\n        )}\n      </div>\n    );\n  }\n);\n\nexport default CustomTagsFilter;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2646, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/filters/Filters.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\n\nimport { useSearchParams } from \"next/navigation\";\n\nimport CategoryFilter from \"@/shared/CategoryFilter\";\nimport TagsFilter from \"@/shared/TagsFilter\";\nimport CustomTagsFilter from \"@/shared/CustomTagsFilter\";\n\ninterface FiltersProps {\n  activeTag: any;\n  activeCategory: any;\n  activeCustomTag: string[];\n  setActiveTag: (tag: any) => any;\n  setActiveCategory: (category: any) => any;\n  setActiveCustomTag: (tags: string[]) => void;\n  showTagFilter: boolean;\n  showCategoryFilter: boolean;\n  showCustomTags?: boolean;\n  handleTagChange: (tag: any) => void;\n  handleCategoryChange: (category: any) => void;\n  handleCustomTagChange: (tag: any) => void;\n}\n\nconst Filters: React.FC<FiltersProps> = ({\n  activeCustomTag,\n  activeTag,\n  activeCategory,\n  setActiveCustomTag,\n  setActiveTag,\n  setActiveCategory,\n  showTagFilter,\n  showCategoryFilter,\n  showCustomTags = false,\n  handleTagChange,\n  handleCategoryChange,\n  handleCustomTagChange,\n}) => {\n  const searchParams = useSearchParams();\n  const [initialLoadDone, setInitialLoadDone] = useState(false);\n\n  // Обработка URL-параметров при первой загрузке\n  useEffect(() => {\n    if (initialLoadDone) return;\n\n    const tagParam = searchParams?.get(\"tag\");\n    const categoryParam = searchParams?.get(\"category\");\n\n    // Обрабатываем параметр tag\n    if (tagParam) {\n      if (tagParam.toLowerCase() === \"sale\") {\n        // Если это тег sale, добавляем его в activeCustomTag\n        if (!activeCustomTag.includes(\"sale\")) {\n          handleCustomTagChange(\"sale\");\n        }\n      } else {\n        // Для других тегов используем обычный обработчик\n        setActiveTag(tagParam);\n      }\n    }\n\n    // Обрабатываем параметр category\n    if (categoryParam) {\n      const categoryId = Number(categoryParam);\n      setActiveCategory(categoryId);\n    }\n\n    setInitialLoadDone(true);\n  }, [\n    searchParams,\n    setActiveTag,\n    setActiveCategory,\n    handleCustomTagChange,\n    activeCustomTag,\n    initialLoadDone,\n  ]);\n\n  return (\n    <>\n      <div\n        className={`filters-panel ${showCategoryFilter ? \"filters-panel--visible\" : \"\"}`}\n        suppressHydrationWarning\n      >\n        <div\n          className={`category-container ${showCategoryFilter ? \"category-container--visible\" : \"\"}`}\n          suppressHydrationWarning\n        >\n          <CategoryFilter\n            activeCategory={activeCategory}\n            onCategoryChange={handleCategoryChange}\n          />\n        </div>\n      </div>\n\n      <div\n        className={`filters-panel ${showTagFilter ? \"filters-panel--visible\" : \"\"}`}\n        suppressHydrationWarning\n      >\n        <div\n          className={`tags-container ${showTagFilter ? \"tags-container--visible\" : \"\"}`}\n          suppressHydrationWarning\n        >\n          <TagsFilter activeTag={activeTag} onTagChange={handleTagChange} />\n        </div>\n      </div>\n\n      <div\n        className={`filters-panel custom-filters-panel ${showCustomTags ? \"filters-panel--visible\" : \"\"}`}\n        suppressHydrationWarning\n      >\n        <div\n          className={`tags-container ${showCustomTags ? \"tags-container--visible\" : \"\"}`}\n          suppressHydrationWarning\n        >\n          <CustomTagsFilter\n            activeCustomTag={activeCustomTag}\n            onCustomTagChange={handleCustomTagChange}\n            activeCategory={activeCategory ? activeCategory.toString() : null}\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Filters;\n"],"names":[],"mappings":";;;;AACA;AAEA;AAEA;AACA;AACA;AAPA;;;;;;;AAwBA,MAAM,UAAkC,CAAC,EACvC,eAAe,EACf,SAAS,EACT,cAAc,EACd,kBAAkB,EAClB,YAAY,EACZ,iBAAiB,EACjB,aAAa,EACb,kBAAkB,EAClB,iBAAiB,KAAK,EACtB,eAAe,EACf,oBAAoB,EACpB,qBAAqB,EACtB;IACC,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvD,+CAA+C;IAC/C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,iBAAiB;QAErB,MAAM,WAAW,cAAc,IAAI;QACnC,MAAM,gBAAgB,cAAc,IAAI;QAExC,4BAA4B;QAC5B,IAAI,UAAU;YACZ,IAAI,SAAS,WAAW,OAAO,QAAQ;gBACrC,qDAAqD;gBACrD,IAAI,CAAC,gBAAgB,QAAQ,CAAC,SAAS;oBACrC,sBAAsB;gBACxB;YACF,OAAO;gBACL,iDAAiD;gBACjD,aAAa;YACf;QACF;QAEA,iCAAiC;QACjC,IAAI,eAAe;YACjB,MAAM,aAAa,OAAO;YAC1B,kBAAkB;QACpB;QAEA,mBAAmB;IACrB,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;KACD;IAED,qBACE;;0BACE,8OAAC;gBACC,WAAW,CAAC,cAAc,EAAE,qBAAqB,2BAA2B,IAAI;gBAChF,wBAAwB;0BAExB,cAAA,8OAAC;oBACC,WAAW,CAAC,mBAAmB,EAAE,qBAAqB,gCAAgC,IAAI;oBAC1F,wBAAwB;8BAExB,cAAA,8OAAC,yHAAA,CAAA,UAAc;wBACb,gBAAgB;wBAChB,kBAAkB;;;;;;;;;;;;;;;;0BAKxB,8OAAC;gBACC,WAAW,CAAC,cAAc,EAAE,gBAAgB,2BAA2B,IAAI;gBAC3E,wBAAwB;0BAExB,cAAA,8OAAC;oBACC,WAAW,CAAC,eAAe,EAAE,gBAAgB,4BAA4B,IAAI;oBAC7E,wBAAwB;8BAExB,cAAA,8OAAC,qHAAA,CAAA,UAAU;wBAAC,WAAW;wBAAW,aAAa;;;;;;;;;;;;;;;;0BAInD,8OAAC;gBACC,WAAW,CAAC,mCAAmC,EAAE,iBAAiB,2BAA2B,IAAI;gBACjG,wBAAwB;0BAExB,cAAA,8OAAC;oBACC,WAAW,CAAC,eAAe,EAAE,iBAAiB,4BAA4B,IAAI;oBAC9E,wBAAwB;8BAExB,cAAA,8OAAC,2HAAA,CAAA,UAAgB;wBACf,iBAAiB;wBACjB,mBAAmB;wBACnB,gBAAgB,iBAAiB,eAAe,QAAQ,KAAK;;;;;;;;;;;;;;;;;;AAMzE;uCAEe","debugId":null}},
    {"offset": {"line": 2781, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/shared/Search.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport ru from \"@/messages/ru.json\";\r\nimport Product from \"@/entities/Product\";\r\nimport \"@/styles/shared/search.css\";\r\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\r\nimport { dataStore } from \"@/store/DataStore\";\r\nimport type { ProductType } from \"@/types/ProductType\";\r\n\r\ninterface SearchProps {\r\n  onSearch: (query: string) => void;\r\n  inputRef?: React.RefObject<HTMLInputElement | null>;\r\n  initialValue?: string;\r\n}\r\n\r\nconst Search: React.FC<SearchProps> = observer(\r\n  ({ onSearch, inputRef, initialValue = \"\" }) => {\r\n    const [isClient, setIsClient] = useState(false);\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const [debouncedValue, setDebouncedValue] = useState(\"\");\r\n    const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n    // Эффект для инициализации клиентской части и начального значения\r\n    useEffect(() => {\r\n      setIsClient(true);\r\n      if (initialValue) {\r\n        setSearchValue(initialValue);\r\n        setDebouncedValue(initialValue);\r\n      }\r\n    }, [initialValue]);\r\n\r\n    // Отдельный эффект для дебаунса ввода\r\n    useEffect(() => {\r\n      if (!isClient) return;\r\n\r\n      // Очищаем предыдущий таймер\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      // Устанавливаем новый таймер для дебаунса\r\n      debounceTimerRef.current = setTimeout(() => {\r\n        setDebouncedValue(searchValue);\r\n      }, 300); // 300ms дебаунс\r\n\r\n      // Очистка при размонтировании\r\n      return () => {\r\n        if (debounceTimerRef.current) {\r\n          clearTimeout(debounceTimerRef.current);\r\n        }\r\n      };\r\n    }, [searchValue, isClient]);\r\n\r\n    // Запускаем поиск только когда дебаунсированное значение изменилось\r\n    useEffect(() => {\r\n      if (isClient && debouncedValue !== undefined) {\r\n        onSearch(debouncedValue);\r\n      }\r\n    }, [debouncedValue, onSearch, isClient]);\r\n\r\n    const handleClearSearch = () => {\r\n      setSearchValue(\"\");\r\n      setDebouncedValue(\"\");\r\n    };\r\n\r\n    return (\r\n      <div className=\"search-container\">\r\n        <div className=\"search\">\r\n          <img src={`${iconsBaseLink}search-component-icon.svg`} alt=\"\" />\r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder={ru.shared.search.placeholder}\r\n            className=\"search-input\"\r\n            value={searchValue}\r\n            onChange={(e) => setSearchValue(e.target.value)}\r\n            ref={inputRef}\r\n          />\r\n\r\n          {searchValue && (\r\n            <button className=\"clear-search-btn\" onClick={handleClearSearch}>\r\n              ✕\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Search;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AACA;AAGA;AANA;;;;;;;AAgBA,MAAM,SAAgC,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD,EAC3C,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,eAAe,EAAE,EAAE;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,mBAAmB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAyB;IAEvD,kEAAkE;IAClE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,YAAY;QACZ,IAAI,cAAc;YAChB,eAAe;YACf,kBAAkB;QACpB;IACF,GAAG;QAAC;KAAa;IAEjB,sCAAsC;IACtC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU;QAEf,4BAA4B;QAC5B,IAAI,iBAAiB,OAAO,EAAE;YAC5B,aAAa,iBAAiB,OAAO;QACvC;QAEA,0CAA0C;QAC1C,iBAAiB,OAAO,GAAG,WAAW;YACpC,kBAAkB;QACpB,GAAG,MAAM,gBAAgB;QAEzB,8BAA8B;QAC9B,OAAO;YACL,IAAI,iBAAiB,OAAO,EAAE;gBAC5B,aAAa,iBAAiB,OAAO;YACvC;QACF;IACF,GAAG;QAAC;QAAa;KAAS;IAE1B,oEAAoE;IACpE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,mBAAmB,WAAW;YAC5C,SAAS;QACX;IACF,GAAG;QAAC;QAAgB;QAAU;KAAS;IAEvC,MAAM,oBAAoB;QACxB,eAAe;QACf,kBAAkB;IACpB;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,KAAK,GAAG,wHAAA,CAAA,gBAAa,CAAC,yBAAyB,CAAC;oBAAE,KAAI;;;;;;8BAE3D,8OAAC;oBACC,MAAK;oBACL,aAAa,sFAAA,CAAA,UAAE,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW;oBACzC,WAAU;oBACV,OAAO;oBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;oBAC9C,KAAK;;;;;;gBAGN,6BACC,8OAAC;oBAAO,WAAU;oBAAmB,SAAS;8BAAmB;;;;;;;;;;;;;;;;;AAO3E;uCAGa","debugId":null}},
    {"offset": {"line": 2900, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/pageContents/CatalogContent.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useRef, useEffect, Suspense } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\n\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\n\nimport ru from \"@/messages/ru.json\";\n\nimport ProductsSection from \"@/widgets/sections/ProductsSection\";\nimport Filters from \"@/widgets/filters/Filters\";\n\nimport Search from \"@/shared/Search\";\n\nimport \"@/styles/widgets/catalog.css\";\nimport { detectIOS } from \"@/utils/detectIOS\";\n\nconst STORAGE_KEYS = {\n  ACTIVE_CATEGORY: \"brandbot_active_category\",\n  ACTIVE_TAG: \"brandbot_active_tag\",\n  ACTIVE_CUSTOM_TAG: \"brandbot_active_custom_tag\",\n  SHOW_CATEGORY_FILTER: \"brandbot_show_category_filter\",\n  SHOW_TAG_FILTER: \"brandbot_show_tag_filter\",\n  SHOW_CUSTOM_TAG_FILTER: \"brandbot_show_custom_tag_filter\",\n  SEARCH_QUERY: \"brandbot_search_query\",\n  SHOW_SEARCH: \"brandbot_show_search\",\n};\n\nconst CatalogContent = () => {\n  const [isClient, setIsClient] = useState(false);\n  const searchParams = useSearchParams();\n\n  const getStoredValue = (key: string, defaultValue: any) => {\n    if (typeof window !== \"undefined\") {\n      const storedValue = localStorage.getItem(key);\n      if (storedValue !== null) {\n        try {\n          return JSON.parse(storedValue);\n        } catch (e) {\n          console.error(\"Ошибка при парсинге данных из localStorage\", e);\n          return defaultValue;\n        }\n      }\n    }\n    return defaultValue;\n  };\n\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\n  const [activeCategory, setActiveCategory] = useState<number | null>(null);\n  const [activeTag, setActiveTag] = useState<string | null>(null);\n  const [activeCustomTag, setActiveCustomTag] = useState<string[]>([]);\n  const [showCategoryFilter, setShowCategoryFilter] = useState<boolean>(true);\n  const [showTagFilter, setShowTagFilter] = useState<boolean>(false);\n  const [showCustomTags, setShowCustomTags] = useState<boolean>(false);\n  const [showSearch, setShowSearch] = useState<boolean>(false);\n\n  useEffect(() => {\n    const getHashParam = (name: string) => {\n      if (typeof window !== \"undefined\") {\n        const hash = window.location.hash;\n        if (hash && hash.includes(\"?\")) {\n          const params = new URLSearchParams(hash.split(\"?\")[1]);\n          const value = params.get(name);\n          return value;\n        }\n      }\n      return null;\n    };\n\n    setSearchQuery(getStoredValue(STORAGE_KEYS.SEARCH_QUERY, \"\"));\n\n    // Проверяем параметр category в URL\n    const categoryParam = searchParams ? searchParams.get(\"category\") : null;\n    const hashCategoryParam = getHashParam(\"category\");\n\n    // Если есть параметр категории в URL, используем его\n    if (categoryParam) {\n      const categoryId = parseInt(categoryParam, 10);\n      setActiveCategory(categoryId);\n      localStorage.setItem(\n        STORAGE_KEYS.ACTIVE_CATEGORY,\n        JSON.stringify(categoryId)\n      );\n    } else if (hashCategoryParam) {\n      const categoryId = parseInt(hashCategoryParam, 10);\n      setActiveCategory(categoryId);\n      localStorage.setItem(\n        STORAGE_KEYS.ACTIVE_CATEGORY,\n        JSON.stringify(categoryId)\n      );\n    } else {\n      // Если параметра нет, используем сохраненное значение\n      setActiveCategory(getStoredValue(STORAGE_KEYS.ACTIVE_CATEGORY, null));\n    }\n\n    setActiveTag(getStoredValue(STORAGE_KEYS.ACTIVE_TAG, null));\n\n    const storedCustomTags = getStoredValue(STORAGE_KEYS.ACTIVE_CUSTOM_TAG, []);\n\n    // Проверяем параметр tag в стандартных search params\n    const tagParam = searchParams ? searchParams.get(\"tag\") : null;\n    // Проверяем параметр tag в хеше URL\n    const hashTagParam = getHashParam(\"tag\");\n\n    // Обработка URL-параметра tag=sale для фильтрации товаров со скидкой\n    if (tagParam === \"sale\" || hashTagParam === \"sale\") {\n      setActiveCustomTag([\"sale\"]);\n      setShowCustomTags(true);\n      localStorage.setItem(\n        STORAGE_KEYS.ACTIVE_CUSTOM_TAG,\n        JSON.stringify([\"sale\"])\n      );\n      localStorage.setItem(\n        STORAGE_KEYS.SHOW_CUSTOM_TAG_FILTER,\n        JSON.stringify(true)\n      );\n    } else {\n      setActiveCustomTag(\n        Array.isArray(storedCustomTags) ? storedCustomTags : []\n      );\n      // Если есть активные кастомные теги, всегда показываем фильтр\n      const hasActiveCustomTags =\n        Array.isArray(storedCustomTags) && storedCustomTags.length > 0;\n      setShowCustomTags(\n        hasActiveCustomTags ||\n          getStoredValue(STORAGE_KEYS.SHOW_CUSTOM_TAG_FILTER, false)\n      );\n\n      // Если есть параметр категории, автоматически показываем фильтр тегов\n      if (categoryParam || hashCategoryParam) {\n        setShowCustomTags(true);\n        localStorage.setItem(\n          STORAGE_KEYS.SHOW_CUSTOM_TAG_FILTER,\n          JSON.stringify(true)\n        );\n      }\n    }\n\n    setShowTagFilter(getStoredValue(STORAGE_KEYS.SHOW_TAG_FILTER, false));\n    setShowSearch(getStoredValue(STORAGE_KEYS.SHOW_SEARCH, false));\n    setIsClient(true);\n  }, [searchParams]);\n\n  const handleSearchChange = (query: string) => {\n    setSearchQuery(query);\n    localStorage.setItem(STORAGE_KEYS.SEARCH_QUERY, JSON.stringify(query));\n  };\n\n  const handleCategoryChange = (categoryId: number) => {\n    const newCategoryValue = categoryId === activeCategory ? null : categoryId;\n\n    localStorage.setItem(STORAGE_KEYS.ACTIVE_CUSTOM_TAG, JSON.stringify([]));\n    setActiveCustomTag([]);\n\n    setActiveCategory(newCategoryValue);\n    localStorage.setItem(\n      STORAGE_KEYS.ACTIVE_CATEGORY,\n      JSON.stringify(newCategoryValue)\n    );\n  };\n\n  const handleTagChange = (tag: string) => {\n    const newTagValue = tag === activeTag ? null : tag;\n    setActiveTag(newTagValue);\n    localStorage.setItem(STORAGE_KEYS.ACTIVE_TAG, JSON.stringify(newTagValue));\n  };\n\n  const handleCustomTagChange = (tag: string) => {\n    const isSaleTag = tag.toLowerCase() === \"sale\";\n\n    setActiveCustomTag((prevActiveTags) => {\n      // Проверяем, включен ли уже тег в список активных\n      const isTagAlreadyActive = prevActiveTags.includes(tag);\n\n      let newActiveTags;\n\n      if (isTagAlreadyActive) {\n        // Если тег уже активен, удаляем его из списка\n        newActiveTags = prevActiveTags.filter((t) => t !== tag);\n\n        // Если деактивируем тег \"sale\", обновляем отображение фильтра тегов\n        if (isSaleTag) {\n          // Деактивация тега Sale\n        }\n      } else {\n        // Если тег не активен, добавляем его к существующим тегам\n        newActiveTags = [...prevActiveTags, tag];\n      }\n\n      // Сохраняем обновленный список активных тегов в localStorage\n      localStorage.setItem(\n        STORAGE_KEYS.ACTIVE_CUSTOM_TAG,\n        JSON.stringify(newActiveTags)\n      );\n\n      // Автоматически показываем секцию фильтров по тегам, если включен хотя бы один тег\n      if (newActiveTags.length > 0 && !showCustomTags) {\n        setShowCustomTags(true);\n        localStorage.setItem(\n          STORAGE_KEYS.SHOW_CUSTOM_TAG_FILTER,\n          JSON.stringify(true)\n        );\n      }\n\n      return newActiveTags;\n    });\n  };\n\n  const toggleCategoryFilter = () => {\n    const newValue = !showCustomTags;\n    setShowCustomTags(newValue);\n    localStorage.setItem(\n      STORAGE_KEYS.SHOW_CUSTOM_TAG_FILTER,\n      JSON.stringify(newValue)\n    );\n  };\n\n  const toggleTagFilter = () => {\n    const newValue = !showTagFilter;\n    setShowTagFilter(newValue);\n    localStorage.setItem(\n      STORAGE_KEYS.SHOW_TAG_FILTER,\n      JSON.stringify(newValue)\n    );\n  };\n\n  const searchInputRef = useRef<HTMLInputElement>(null);\n\n  const toggleSearch = () => {\n    setShowSearch(!showSearch);\n    localStorage.setItem(STORAGE_KEYS.SHOW_SEARCH, JSON.stringify(!showSearch));\n  };\n\n  useEffect(() => {\n    if (showSearch && searchInputRef.current) {\n      setTimeout(() => {\n        searchInputRef.current?.focus();\n      }, 300);\n    }\n  }, [showSearch]);\n\n  return (\n    <main\n      className={`mt-[20px] px-[10px] w-full catalogMain \n        ${detectIOS() ? \"catalogMain--ios\" : \"\"}\n        `}\n    >\n      <div className=\"mb-[13px]\">\n        <div className=\"catalog-top\">\n          <h1 className=\"catalog-top-title\">{ru.widgets.catalog.title}</h1>\n\n          <div className=\"catalog-top-right\">\n            <button\n              suppressHydrationWarning\n              className={`catalog-top-right-button ${isClient && showSearch ? \"active\" : \"\"}`}\n              onClick={toggleSearch}\n            >\n              <img src={`${iconsBaseLink}search-icon.svg`} alt=\"\" />\n            </button>\n\n            <button\n              suppressHydrationWarning\n              className={`catalog-top-right-button ${isClient && showTagFilter ? \"active\" : \"\"}`}\n              onClick={toggleTagFilter}\n            >\n              <img src={`${iconsBaseLink}sort-icon.svg`} alt=\"\" />\n            </button>\n\n            <button\n              suppressHydrationWarning\n              className={`catalog-top-right-button ${isClient && showCustomTags ? \"active\" : \"\"}`}\n              onClick={toggleCategoryFilter}\n            >\n              <img src={`${iconsBaseLink}filter-icon.svg`} alt=\"\" />\n            </button>\n          </div>\n        </div>\n\n        <div\n          suppressHydrationWarning\n          className={`search-panel ${isClient && showSearch ? \"search-panel--visible\" : \"\"}`}\n        >\n          <Search\n            onSearch={handleSearchChange}\n            inputRef={searchInputRef}\n            initialValue={searchQuery}\n          />\n        </div>\n\n        {isClient && (\n          <Suspense>\n            <Filters\n              activeTag={activeTag}\n              activeCategory={activeCategory}\n              activeCustomTag={activeCustomTag}\n              setActiveTag={setActiveTag}\n              setActiveCategory={setActiveCategory}\n              showTagFilter={showTagFilter}\n              showCategoryFilter={true}\n              showCustomTags={showCustomTags}\n              handleTagChange={handleTagChange}\n              handleCategoryChange={handleCategoryChange}\n              handleCustomTagChange={handleCustomTagChange}\n              setActiveCustomTag={setActiveCustomTag}\n            />\n          </Suspense>\n        )}\n      </div>\n\n      <ProductsSection\n        isFavorites={false}\n        categoryFilter={activeCategory}\n        tagFilter={activeTag}\n        customTagFilter={activeCustomTag}\n        searchQuery={searchQuery}\n      />\n    </main>\n  );\n};\n\nexport default CatalogContent;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3234, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/pageContents/FavoritesContent.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react-lite\";\n\nimport ru from \"@/messages/ru.json\";\nimport { favoritesStore } from \"@/store/FavoritesStore\";\n\nimport ProductsSection from \"@/widgets/sections/ProductsSection\";\n\nimport \"@/styles/widgets/favorites.css\";\nimport Loading from \"@/shared/Loading\";\nimport { detectIOS } from \"@/utils/detectIOS\";\n\nconst FavoritesContent = observer(() => {\n  const hasFavorites = favoritesStore.favoritesIds.length > 0;\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  useEffect(() => {\n    setIsLoading(!!favoritesStore);\n  }, [hasFavorites]);\n\n  return (\n    <main\n      className={`favoritesMain \n    ${detectIOS() ? \"favoritesMain--ios\" : \"\"}\n    `}\n    >\n      {isLoading ? (\n        hasFavorites ? (\n          <ProductsSection isFavorites={true} />\n        ) : (\n          <div className=\"favoritesMain-empty\">\n            <h2 className=\"favoritesMain-empty-title\">\n              У вас пока нет избранных товаров\n            </h2>\n            <p className=\"favoritesMain-empty-text\">\n              Нажмите на{\" \"}\n              <svg\n                width=\"18\"\n                height=\"16\"\n                viewBox=\"0 0 18 16\"\n                fill={\"transparent\"}\n                xmlns=\"http://www.w3.org/2000/svg\"\n                style={{\n                  display: \"inline-block\",\n                }}\n              >\n                <path\n                  d=\"M9.30663 14.7267L9.30662 14.7267L9.30029 14.7289C9.24983 14.7467 9.14099 14.7668 8.99996 14.7668C8.85893 14.7668 8.75009 14.7467 8.69963 14.7289L8.69964 14.7289L8.69329 14.7267C7.57825 14.346 5.71238 13.3333 4.13388 11.716C2.56322 10.1067 1.31663 7.94228 1.31663 5.24183C1.31663 3.02277 3.10364 1.2335 5.29996 1.2335C6.60123 1.2335 7.75317 1.86153 8.47812 2.8377C8.60075 3.00282 8.79429 3.10016 8.99996 3.10016C9.20563 3.10016 9.39917 3.00282 9.5218 2.8377C10.2464 1.86206 11.4064 1.2335 12.7 1.2335C14.8963 1.2335 16.6833 3.02277 16.6833 5.24183C16.6833 7.94228 15.4367 10.1067 13.866 11.716C12.2875 13.3333 10.4217 14.346 9.30663 14.7267Z\"\n                  stroke={\"#6C6C6C\"}\n                  strokeWidth=\"1.3\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n              , чтобы сохранить любой понравившийся товар\n            </p>\n          </div>\n        )\n      ) : (\n        <Loading />\n      )}\n    </main>\n  );\n});\n\nexport default FavoritesContent;\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAGA;AAEA;AAGA;AACA;AAXA;;;;;;;;;AAaA,MAAM,mBAAmB,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD,EAAE;IAChC,MAAM,eAAe,uHAAA,CAAA,iBAAc,CAAC,YAAY,CAAC,MAAM,GAAG;IAC1D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IACpD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,CAAC,CAAC,uHAAA,CAAA,iBAAc;IAC/B,GAAG;QAAC;KAAa;IAEjB,qBACE,8OAAC;QACC,WAAW,CAAC;IACd,EAAE,CAAA,GAAA,kHAAA,CAAA,YAAS,AAAD,MAAM,uBAAuB,GAAG;IAC1C,CAAC;kBAEE,YACC,6BACE,8OAAC,uIAAA,CAAA,UAAe;YAAC,aAAa;;;;;iCAE9B,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4B;;;;;;8BAG1C,8OAAC;oBAAE,WAAU;;wBAA2B;wBAC3B;sCACX,8OAAC;4BACC,OAAM;4BACN,QAAO;4BACP,SAAQ;4BACR,MAAM;4BACN,OAAM;4BACN,OAAO;gCACL,SAAS;4BACX;sCAEA,cAAA,8OAAC;gCACC,GAAE;gCACF,QAAQ;gCACR,aAAY;gCACZ,eAAc;gCACd,gBAAe;;;;;;;;;;;wBAEb;;;;;;;;;;;;iCAMZ,8OAAC,kHAAA,CAAA,UAAO;;;;;;;;;;AAIhB;uCAEe","debugId":null}},
    {"offset": {"line": 3343, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/pageContents/ShoppingCartContent.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nimport { observer } from \"mobx-react-lite\";\nimport { runInAction } from \"mobx\";\n\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\nimport { projectData } from \"@/data/fakeData\";\nimport { dataStore } from \"@/store/DataStore\";\nimport { apiInstance } from \"@/utils/api\";\nimport axios, { AxiosError } from \"axios\";\n\nimport { shoppingCartStore } from \"@/store/ShoppingCartStore\";\n\nimport ProductsSection from \"@/widgets/sections/ProductsSection\";\nimport Link from \"next/link\";\nimport MaskedInput from \"react-text-mask\";\nimport \"@/styles/widgets/shoppingCart.css\";\nimport Loading from \"@/shared/Loading\";\nimport { NavLink } from \"react-router-dom\";\nimport { detectIOS } from \"@/utils/detectIOS\";\n\n// Компонент всплывающего окна для отображения ошибок формы\nconst FormErrorModal = ({\n  message,\n  onClose,\n  onRetry,\n}: {\n  message: string;\n  onClose: () => void;\n  onRetry?: () => void;\n}) => {\n  if (!message) return null;\n\n  return (\n    <div className=\"error-modal-overlay\" onClick={onClose}>\n      <div className=\"error-modal\" onClick={(e) => e.stopPropagation()}>\n        <button className=\"error-modal-close\" onClick={onClose}>\n          <img src={`${iconsBaseLink}close-icon.svg`} alt=\"Закрыть\" />\n        </button>\n        <div className=\"error-modal-content\">\n          <h3 className=\"error-modal-title\">Ошибка</h3>\n          <p className=\"error-modal-message\">{message}</p>\n          <div className=\"error-modal-buttons\">\n            <button className=\"error-modal-button\" onClick={onClose}>\n              Закрыть\n            </button>\n            {onRetry && (\n              <button\n                className=\"error-modal-button error-modal-retry\"\n                onClick={onRetry}\n              >\n                Повторить\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst SuccessModal = ({\n  onClose,\n  orderResponse,\n  orderProducts,\n  onPay,\n}: {\n  onClose: () => void;\n  orderResponse: any;\n  orderProducts: any[];\n  onPay: () => void;\n}) => {\n  const paymentDescription =\n    dataStore.data?.special_project_parameters\n      ?.PAYMENT_SYSTEM_INSERT_TEXT_description || \"\";\n  const paymentExtraInfo =\n    dataStore.data?.special_project_parameters\n      ?.PAYMENT_SYSTEM_INSERT_TEXT_extra_field_1 || \"\";\n  const isOfflinePayment = orderResponse?.payment_type === \"delivery\"; // Предполагаем, что orderResponse содержит тип оплаты\n  const deliveryPrice =\n    parseFloat(\n      isOfflinePayment\n        ? dataStore.data?.special_project_parameters\n            ?.cart_delivery_price_offline_value\n        : dataStore.data?.special_project_parameters?.cart_delivery_price_value\n    ) || 0;\n\n  return (\n    <div className=\"error-modal-overlay\" onClick={onClose}>\n      <div\n        className=\"error-modal order-success-modal\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button className=\"error-modal-close\" onClick={onClose}>\n          <img src={`${iconsBaseLink}close-icon.svg`} alt=\"Закрыть\" />\n        </button>\n\n        <div className=\"success-modal-content\">\n          <div className=\"success-top-info\">\n            <div dangerouslySetInnerHTML={{ __html: paymentDescription }} />\n\n            {orderResponse?.order_id && (\n              <div className=\"order-id\">Заказ: № {orderResponse.order_id}</div>\n            )}\n          </div>\n\n          <div className=\"order-products-container\">\n            {orderProducts.map((product, index) => (\n              <div className=\"order-product-item\" key={index}>\n                <div className=\"order-product-image\">\n                  <img\n                    src={\n                      product.selectedColor?.image ||\n                      product.images[0].Image_URL\n                    }\n                    alt={product.Product_Name}\n                  />\n                </div>\n                <div className=\"order-product-info\">\n                  <div className=\"order-product-name\">\n                    {product.Product_Name}\n                  </div>\n                  {product.parameters && (\n                    <div className=\"order-product-size\">\n                      {product.parameters.name === \"Размер обуви\"\n                        ? \"Размер\"\n                        : product.parameters.name}\n                      : {product.parameters.parameter_string}\n                    </div>\n                  )}\n                  {product.selectedColor && (\n                    <div className=\"order-product-color\">\n                      Цвет: {product.selectedColor.name}\n                      <span\n                        className=\"color-dot\"\n                        style={{\n                          backgroundColor: product.selectedColor.code || \"#ccc\",\n                        }}\n                      />\n                    </div>\n                  )}\n                  <div className=\"order-product-price\">\n                    {product.final_price || product.parameters.price} ₽\n                  </div>\n                </div>\n                <div className=\"order-product-quantity\">\n                  x{product.quantity || 1}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"order-total\">\n            <div className=\"order-total-text\">Итого:</div>\n            <div className=\"order-total-price\">\n              {orderProducts.reduce(\n                (sum, product) =>\n                  sum + product.parameters.price * (product.quantity || 1),\n                0\n              ) + deliveryPrice}{\" \"}\n              ₽\n            </div>\n          </div>\n\n          {orderResponse?.payment_link && (\n            <div className=\"payment-link-container\">\n              <p className=\"payment-link-label\">Ваша ссылка на оплату:</p>\n              <a\n                href={orderResponse.payment_link}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"payment-link-button\"\n                onClick={onPay}\n              >\n                <span className=\"payment-link-text\">ОПЛАТИТЬ</span>\n              </a>\n              <p className=\"payment-link-help\">\n                Если ссылка не открылась автоматически, пожалуйста, нажмите на\n                неё повторно.\n              </p>\n            </div>\n          )}\n\n          <div\n            dangerouslySetInnerHTML={{ __html: paymentExtraInfo }}\n            className=\"payment-extra-info\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Модальное окно для оформления заказа напрямую через менеджера\nconst ContactManagerModal = ({\n  onClose,\n  orderResponse,\n  orderProducts,\n  managerContact,\n  onContactClick,\n}: {\n  onClose: () => void;\n  orderResponse: any;\n  orderProducts: any[];\n  managerContact: string;\n  onContactClick: () => void;\n}) => {\n  const paymentDescription =\n    dataStore.data?.special_project_parameters\n      ?.PAYMENT_SYSTEM_INSERT_TEXT_description || \"\";\n  const deliveryPrice =\n    parseFloat(\n      dataStore.data?.special_project_parameters\n        ?.cart_delivery_price_offline_value\n    ) || 0;\n\n  // Получаем настройки контакта менеджера\n  const managerButtonText =\n    dataStore.data?.special_project_parameters?.manager_button_text ||\n    \"Связаться с менеджером\";\n  const managerDisplayContact =\n    dataStore.data?.special_project_parameters?.manager_display_contact ||\n    managerContact;\n\n  // Определяем тип контакта (telegram, whatsapp, vk и т.д.)\n  const getContactUrl = (contact: string) => {\n    if (!contact) return \"#\";\n\n    // Удаляем @ если есть\n    const cleanContact = contact.replace(/^@/, \"\");\n\n    // Определяем тип по началу строки\n    if (contact.startsWith(\"@\") || contact.includes(\"t.me/\")) {\n      return `https://t.me/${cleanContact}`;\n    } else if (contact.includes(\"wa.me/\") || contact.includes(\"whatsapp\")) {\n      return `https://wa.me/${cleanContact.replace(/\\D/g, \"\")}`;\n    } else if (contact.includes(\"vk.com\")) {\n      return `https://vk.com/${cleanContact.replace(\"vk.com/\", \"\")}`;\n    } else {\n      // Пробуем определить по формату\n      const isPhone = /^[+\\d\\s()-]{10,}$/.test(contact);\n      if (isPhone) {\n        return `https://wa.me/${cleanContact.replace(/\\D/g, \"\")}`;\n      }\n\n      // По умолчанию считаем Telegram\n      return `https://t.me/${cleanContact}`;\n    }\n  };\n\n  const contactUrl = getContactUrl(managerContact);\n\n  return (\n    <div className=\"error-modal-overlay\" onClick={onClose}>\n      <div\n        className=\"error-modal order-success-modal\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button className=\"error-modal-close\" onClick={onClose}>\n          <img src={`${iconsBaseLink}close-icon.svg`} alt=\"Закрыть\" />\n        </button>\n\n        <div className=\"success-modal-content\">\n          <div className=\"success-top-info\">\n            <div dangerouslySetInnerHTML={{ __html: paymentDescription }} />\n\n            {orderResponse?.order_id && (\n              <div className=\"order-id\">Заказ: № {orderResponse.order_id}</div>\n            )}\n          </div>\n\n          <div className=\"order-products-container\">\n            {orderProducts.map((product, index) => (\n              <div className=\"order-product-item\" key={index}>\n                <div className=\"order-product-image\">\n                  <img\n                    src={\n                      product.selectedColor?.image ||\n                      product.images[0].Image_URL\n                    }\n                    alt={product.Product_Name}\n                  />\n                </div>\n                <div className=\"order-product-info\">\n                  <div className=\"order-product-name\">\n                    {product.Product_Name}\n                  </div>\n                  {product.parameters && (\n                    <div className=\"order-product-size\">\n                      {product.parameters.name === \"Размер обуви\"\n                        ? \"Размер\"\n                        : product.parameters.name}\n                      : {product.parameters.parameter_string}\n                    </div>\n                  )}\n                  {product.selectedColor && (\n                    <div className=\"order-product-color\">\n                      Цвет: {product.selectedColor.name}\n                      <span\n                        className=\"color-dot\"\n                        style={{\n                          backgroundColor: product.selectedColor.code || \"#ccc\",\n                        }}\n                      />\n                    </div>\n                  )}\n                  <div className=\"order-product-price\">\n                    {product.final_price || product.parameters.price} ₽\n                  </div>\n                </div>\n                <div className=\"order-product-quantity\">\n                  x{product.quantity || 1}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"order-total\">\n            <div className=\"order-total-text\">Итого:</div>\n            <div className=\"order-total-price\">\n              {orderProducts.reduce(\n                (sum, product) =>\n                  sum +\n                  (product.final_price || product.parameters?.price || 0) *\n                    (product.quantity || 1),\n                0\n              ) + deliveryPrice}{\" \"}\n              ₽\n            </div>\n          </div>\n\n          <div className=\"contact-manager-container\">\n            <p className=\"contact-manager-text\">\n              Для оплаты заказа свяжитесь с менеджером:\n            </p>\n            <a\n              href={contactUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"contact-manager-button\"\n              onClick={onContactClick}\n            >\n              <div className=\"contact-manager-telegram-icon\">\n                <svg\n                  width=\"25\"\n                  height=\"24\"\n                  viewBox=\"0 0 25 24\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <g clipPath=\"url(#a)\" fillRule=\"evenodd\" clipRule=\"evenodd\">\n                    <path\n                      d=\"M24.5 12c0-6.628-5.372-12-12-12S.5 5.372.5 12s5.372 12 12 12 12-5.372 12-12\"\n                      fill=\"url(#b)\"\n                    />\n                    <path\n                      d=\"m5.666 11.297 7.797-3.238c.77-.338 3.381-1.417 3.381-1.417s1.205-.473 1.105.675c-.034.472-.302 2.124-.57 3.912l-.836 5.295s-.067.776-.636.911-1.506-.472-1.673-.607c-.134-.101-2.51-1.619-3.38-2.36-.235-.203-.503-.608.033-1.08a129 129 0 0 0 3.514-3.373c.402-.405.804-1.35-.87-.203l-4.719 3.205s-.535.337-1.54.033c-1.003-.303-2.175-.708-2.175-.708s-.803-.506.57-1.045z\"\n                      fill=\"#fff\"\n                    />\n                  </g>\n                  <defs>\n                    <linearGradient\n                      id=\"b\"\n                      x1=\"55.831\"\n                      y1=\"13.231\"\n                      x2=\"34.179\"\n                      y2=\"61.344\"\n                      gradientUnits=\"userSpaceOnUse\"\n                    >\n                      <stop stopColor=\"#37AEE2\" />\n                      <stop offset=\"1\" stopColor=\"#1E96C8\" />\n                    </linearGradient>\n                    <clipPath id=\"a\">\n                      <path fill=\"#fff\" d=\"M.5 0h24v24H.5z\" />\n                    </clipPath>\n                  </defs>\n                </svg>\n              </div>\n              <span className=\"contact-manager-text\">\n                {managerDisplayContact}\n              </span>\n            </a>\n            <p className=\"contact-manager-instructions\">\n              Укажите номер заказа при общении с менеджером для быстрой\n              обработки.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Модальное окно для Softpay\nconst SoftpayPaymentModal = ({\n  onClose,\n  orderResponse,\n  orderProducts,\n  onConfirm,\n}: {\n  onClose: () => void;\n  orderResponse: any;\n  orderProducts: any[];\n  onConfirm: () => void;\n}) => {\n  const paymentDescriptionHtml =\n    dataStore.data?.special_project_parameters\n      ?.PAYMENT_SYSTEM_INSERT_TEXT_description ||\n    '<p class=\"cart-link-popup-imitator-container-thanksForOrder\">Спасибо за заказ!</p>'; // Исправлено\n  const paymentInstructionsHtml =\n    dataStore.data?.special_project_parameters\n      ?.PAYMENT_SYSTEM_INSERT_TEXT_extra_field_1 || \"\";\n  const deliveryPrice =\n    parseFloat(\n      dataStore.data?.special_project_parameters?.cart_delivery_price_value // Softpay обычно онлайн\n    ) || 0;\n\n  return (\n    <div className=\"error-modal-overlay\" onClick={onClose}>\n      <div\n        className=\"error-modal order-success-modal softpay-modal\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <button className=\"error-modal-close\" onClick={onClose}>\n          <img src={`${iconsBaseLink}close-icon.svg`} alt=\"Закрыть\" />\n        </button>\n\n        <div className=\"success-modal-content\">\n          <div className=\"success-top-info\">\n            <div dangerouslySetInnerHTML={{ __html: paymentDescriptionHtml }} />\n            {orderResponse?.order_id && (\n              <div className=\"order-id\">Заказ № {orderResponse.order_id}</div>\n            )}\n          </div>\n\n          <div className=\"order-products-container\">\n            {orderProducts.map((product, index) => (\n              <div className=\"order-product-item\" key={index}>\n                <div className=\"order-product-image\">\n                  <img\n                    src={\n                      product.selectedColor?.image ||\n                      product.images[0].Image_URL\n                    }\n                    alt={product.Product_Name}\n                  />\n                </div>\n                <div className=\"order-product-info\">\n                  <div className=\"order-product-name\">\n                    {product.Product_Name}\n                  </div>\n                  {product.parameters && (\n                    <div className=\"order-product-size\">\n                      {product.parameters.name === \"Размер обуви\"\n                        ? \"Размер\"\n                        : product.parameters.name}\n                      : {product.parameters.parameter_string}\n                    </div>\n                  )}\n                  {product.selectedColor && (\n                    <div className=\"order-product-color\">\n                      Цвет: {product.selectedColor.name}\n                      <span\n                        className=\"color-dot\"\n                        style={{\n                          backgroundColor: product.selectedColor.code || \"#ccc\",\n                        }}\n                      />\n                    </div>\n                  )}\n                  <div className=\"order-product-price\">\n                    {product.final_price || product.parameters.price} ₽\n                  </div>\n                </div>\n                <div className=\"order-product-quantity\">\n                  x{product.quantity || 1}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"order-total\">\n            <div className=\"order-total-text\">Итого:</div>\n            <div className=\"order-total-price\">\n              {orderProducts.reduce(\n                (sum, product) =>\n                  sum + product.parameters.price * (product.quantity || 1),\n                0\n              ) + deliveryPrice}{\" \"}\n              ₽\n            </div>\n          </div>\n\n          <div\n            className=\"payment-instructions-softpay\"\n            dangerouslySetInnerHTML={{ __html: paymentInstructionsHtml }}\n          />\n\n          <button\n            className=\"error-modal-button softpay-confirm-button\"\n            onClick={onConfirm}\n          >\n            Хорошо\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ShoppingCartContent = observer(() => {\n  const [typePaymentId, setTypePaymentId] = useState(1);\n  const [allowPostPayment, setAllowPostPayment] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [isIOS, setIsIOS] = useState(false);\n  const [isLoading, setIsLoading] = useState<boolean | \"pending\">(\"pending\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [orderResponse, setOrderResponse] = useState<any>(null);\n  const [orderProducts, setOrderProducts] = useState<any[]>([]);\n  const [currentOrderData, setCurrentOrderData] = useState<any>(null);\n\n  const [fio, setFio] = useState(\"\");\n  const [fioError, setFioError] = useState(\"\");\n  const [phoneError, setPhoneError] = useState(\"\");\n  const [cityError, setCityError] = useState(\"\");\n  const [houseError, setHouseError] = useState(\"\");\n  const [apartmentError, setApartmentError] = useState(\"\");\n  const [commentError, setCommentError] = useState(\"\");\n  const [promocodeError, setPromocodeError] = useState(\"\");\n  const [formError, setFormError] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [house, setHouse] = useState(\"\");\n  const [apartment, setApartment] = useState(\"\");\n  const [comment, setComment] = useState(\"\");\n  const [promocode, setPromocode] = useState(\"\");\n  const [productsLimit, setProductsLimit] = useState(2);\n\n  // Маска для номера телефона в формате +7 (XXX) XXX XX-XX\n  const phoneMask = [\n    \"+\",\n    \"7\",\n    \" \",\n    \"(\",\n    /[0-9]/,\n    /[0-9]/,\n    /[0-9]/,\n    \")\",\n    \" \",\n    /[0-9]/,\n    /[0-9]/,\n    /[0-9]/,\n    \" \",\n    /[0-9]/,\n    /[0-9]/,\n    \"-\",\n    /[0-9]/,\n    /[0-9]/,\n  ];\n\n  const validateFio = (value: string) => {\n    const onlyLettersRegex = /^[а-яА-ЯёЁa-zA-Z\\s-]+$/;\n\n    if (!value) {\n      setFioError(\"\");\n      return true;\n    }\n\n    if (!onlyLettersRegex.test(value)) {\n      setFioError(\"Только буквы, пробелы и дефисы\");\n      return false;\n    } else {\n      setFioError(\"\");\n      return true;\n    }\n  };\n\n  const validatePhone = (value: string) => {\n    if (!value) {\n      setPhoneError(\"\");\n      return false;\n    }\n\n    if (value.includes(\"_\") || value.length < 18) {\n      setPhoneError(\"Введите полный номер телефона\");\n      return false;\n    } else {\n      setPhoneError(\"\");\n      return true;\n    }\n  };\n\n  const handleFioChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n\n    const onlyLettersRegex = /^[а-яА-ЯёЁa-zA-Z\\s-]*$/;\n\n    if (onlyLettersRegex.test(value)) {\n      setFio(value);\n      if (fioError) {\n        setFioError(\"\");\n      }\n    } else {\n      setFioError(\"Только буквы и пробелы\");\n    }\n  };\n\n  const handlePhoneChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setPhone(value);\n    validatePhone(value);\n  };\n\n  const handleCityChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setCity(value);\n    if (!value.trim()) {\n      setCityError(\"Введите город и улицу\");\n    } else {\n      setCityError(\"\");\n    }\n  };\n\n  const handleHouseChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setHouse(value);\n    if (!value.trim()) {\n      setHouseError(\"Введите номер дома\");\n    } else {\n      setHouseError(\"\");\n    }\n  };\n\n  const resetForm = () => {\n    setFio(\"\");\n    setPhone(\"\");\n    setCity(\"\");\n    setHouse(\"\");\n    setApartment(\"\");\n    setAddress(\"\");\n    setComment(\"\");\n    setPromocode(\"\");\n    setFioError(\"\");\n    setPhoneError(\"\");\n    setCityError(\"\");\n    setHouseError(\"\");\n    setApartmentError(\"\");\n    setCommentError(\"\");\n    setPromocodeError(\"\");\n    setFormError(\"\");\n  };\n\n  const updateProductsLimit = () => {\n    if (typeof window !== \"undefined\") {\n      setProductsLimit(window.innerWidth >= 480 ? 3 : 2);\n    }\n  };\n\n  const getTotalOrderPrice = (): number => {\n    return shoppingCartStore.items.reduce(\n      (acc, item) => acc + item.parameters.price * (item.quantity || 1),\n      0\n    );\n  };\n\n  // Получаем скидочные параметры из API\n  const actions = dataStore.data?.special_project_parameters_actions || [];\n  const discountAction = actions.find((a: any) => a.action_type === \"p23\");\n  const discount10 = discountAction ? Number(discountAction.extra_field_1) : 0;\n  const discount15 = discountAction ? Number(discountAction.extra_field_2) : 0;\n\n  const getSalePrice = (): number => {\n    // Определяем количество товаров с учётом quantity\n    const itemCount = shoppingCartStore.items.reduce(\n      (acc, item) => acc + (item.quantity || 1),\n      0\n    );\n\n    if (!discountAction || itemCount < 2) {\n      return 0;\n    } else if (itemCount === 2) {\n      return Math.ceil(getTotalOrderPrice() * (discount10 / 100));\n    } else {\n      return Math.ceil(getTotalOrderPrice() * (discount15 / 100));\n    }\n  };\n\n  const getProductsCountText = () => {\n    const totalQuantity = shoppingCartStore.items.reduce(\n      (acc, item) => acc + (item.quantity || 1),\n      0\n    );\n\n    if (totalQuantity === 0) {\n      return \"Товары в корзине отсутствуют\";\n    } else if (totalQuantity === 1) {\n      return \"товар\";\n    } else if (totalQuantity > 1 && totalQuantity < 5) {\n      return \"товара\";\n    } else {\n      return \"товаров\";\n    }\n  };\n\n  const recommendedProducts = projectData?.products\n    ?.filter((product) => product.OnMain === true)\n    .slice(0, 4);\n\n  const stopPropagation = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const removeFromLocalStorage = (\n    productId: number,\n    productTitle: string,\n    colorId?: number\n  ) => {\n    if (typeof window !== \"undefined\") {\n      const addedSettingItems = localStorage.getItem(\"addedSettingItems\");\n      if (addedSettingItems) {\n        try {\n          const items = JSON.parse(addedSettingItems);\n\n          // Находим параметр в корзине, чтобы получить его ID\n          const product = shoppingCartStore.items.find(\n            (item) =>\n              item.Product_ID === productId &&\n              (!productTitle ||\n                item.parameters?.parameter_string === productTitle) &&\n              (!colorId || item.selectedColor?.id === colorId)\n          );\n\n          if (product) {\n            const paramId = product.parameters?.Parameter_ID;\n            const productColorId = product.selectedColor?.id;\n\n            // Фильтруем элементы, сохраняя те, которые не соответствуют удаляемому товару\n            const filteredItems = items.filter((item: any) => {\n              // Проверка параметров и цвета товара\n              const differentProduct = item.productId !== productId;\n              const differentParam = paramId && item.id !== paramId;\n              const differentColor =\n                productColorId && item.colorId !== productColorId;\n\n              // Результат проверки для текущего элемента\n              const keepItem =\n                differentProduct || differentParam || differentColor;\n\n              // Оставляем элемент, если это другой товар или другие параметры/цвет\n              return keepItem;\n            });\n\n            localStorage.setItem(\n              \"addedSettingItems\",\n              JSON.stringify(filteredItems)\n            );\n          }\n        } catch (error) {\n          console.error(\"Ошибка при обработке данных из localStorage:\", error);\n        }\n      }\n    }\n  };\n\n  const removeSpecificProductFromCart = (\n    productId: number,\n    productName: string,\n    parameterString?: string,\n    colorId?: number\n  ) => {\n    // Удаляем товар из локального хранилища\n    removeFromLocalStorage(productId, parameterString || \"\", colorId);\n\n    // Удаляем конкретный товар из корзины\n    runInAction(() => {\n      const initialCount = shoppingCartStore.items.length;\n\n      shoppingCartStore.items = shoppingCartStore.items.filter((item) => {\n        // Проверяем, не совпадает ли товар с тем, который нужно удалить\n        const matchesProduct = item.Product_ID === productId;\n        const matchesParam =\n          !parameterString ||\n          item.parameters?.parameter_string === parameterString;\n        const matchesColor = !colorId || item.selectedColor?.id === colorId;\n\n        // Результат проверки\n        const shouldRemove = matchesProduct && matchesParam && matchesColor;\n\n        // Оставляем товар, если он не соответствует условиям удаления\n        return !shouldRemove;\n      });\n    });\n\n    const colorInfo = colorId ? ` и цветом ID: ${colorId}` : \"\";\n  };\n\n  const validateForm = () => {\n    let isValid = true;\n    let errorFields = [];\n\n    setFioError(\"\");\n    setPhoneError(\"\");\n    setCityError(\"\");\n    setHouseError(\"\");\n    setFormError(\"\");\n\n    if (!fio.trim()) {\n      setFioError(\"error\");\n      isValid = false;\n      errorFields.push(\"ФИО\");\n    }\n\n    if (!phone || phone.includes(\"_\") || phone.length < 18) {\n      setPhoneError(\"error\");\n      isValid = false;\n      errorFields.push(\"Телефон\");\n    }\n\n    if (!city.trim()) {\n      setCityError(\"error\");\n      isValid = false;\n      errorFields.push(\"Город и улица\");\n    }\n\n    if (!house.trim()) {\n      setHouseError(\"error\");\n      isValid = false;\n      errorFields.push(\"Дом\");\n    }\n\n    // Если товаров в корзине нет, то заказ оформить нельзя\n    if (shoppingCartStore.items.length === 0) {\n      setFormError(\"Корзина пуста. Добавьте товары для оформления заказа.\");\n      setShowErrorModal(true);\n      isValid = false;\n    } else if (errorFields.length > 0) {\n      // Показываем сообщение о незаполненных полях\n      setFormError(\n        `Пожалуйста, заполните следующие поля: ${errorFields.join(\", \")}`\n      );\n      setShowErrorModal(true);\n    }\n\n    return isValid;\n  };\n\n  const handlePayment = () => {\n    // Только после нажатия на кнопку оплаты очищаем корзину и форму\n    resetForm();\n    shoppingCartStore.clearCart();\n    clearLocalStorageExceptFirst3();\n    setShowSuccessModal(false);\n  };\n\n  const handleSoftpayConfirm = () => {\n    // Действия после подтверждения оплаты Softpay\n    // (например, очистка корзины, формы, localStorage)\n    resetForm();\n    shoppingCartStore.clearCart();\n    clearLocalStorageExceptFirst3();\n    setShowSuccessModal(false); // Закрываем модальное окно Softpay\n  };\n\n  const handleContactClick = () => {\n    // Очищаем корзину, форму и localStorage при клике на ссылку менеджера\n    resetForm();\n    shoppingCartStore.clearCart();\n    clearLocalStorageExceptFirst3();\n    setShowSuccessModal(false);\n\n    // Вместо использования window.Telegram.WebApp\n    try {\n      // Проверяем, существует ли объект Telegram\n      if (window.Telegram && window.Telegram.WebApp) {\n        // Безопасно пытаемся вызвать метод\n        const managerContact =\n          dataStore.data?.special_project_parameters\n            ?.telegram_manager_contact_value;\n\n        if (managerContact) {\n          const cleanContact = managerContact.replace(/^@/, \"\");\n          window.Telegram.WebApp.openLink(`https://t.me/${cleanContact}`);\n          return false; // Предотвращаем стандартное поведение ссылки\n        }\n      }\n    } catch (error) {\n      // Ошибки не останавливают выполнение\n    }\n  };\n\n  const getCurrentDeliveryPrice = () => {\n    const isOffline = allowPostPayment && typePaymentId === 2;\n    return (\n      parseFloat(\n        isOffline\n          ? dataStore.data?.special_project_parameters\n              ?.cart_delivery_price_offline_value\n          : dataStore.data?.special_project_parameters\n              ?.cart_delivery_price_value\n      ) || 0\n    );\n  };\n\n  // Функция для обработки размещения заказа\n  const handleMakeOrder = async () => {\n    if (!validateForm()) {\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    // Фильтруем айтемы для заказа\n    const itemsForOrder = shoppingCartStore.items\n      .filter((item) => item.quantity && item.quantity > 0)\n      .map((item) => {\n        // Базовая цена товара\n        const basePrice = item.parameters?.price || item.Price || 0;\n\n        // Скидка на цвет если есть\n        const colorDiscount = item.selectedColor?.discount || 0;\n\n        // Финальная цена с учетом скидки (абсолютное значение)\n        const finalPrice = Math.max(0, basePrice - colorDiscount);\n\n        return {\n          ID: item.Product_ID,\n          name: item.Name,\n          price: finalPrice,\n          quantity: item.quantity || 0,\n          parameter: item.parameters?.parameter_string || \"\",\n          color: item.selectedColor\n            ? {\n                name: item.selectedColor.name,\n                code: item.selectedColor.code,\n              }\n            : null,\n        };\n      });\n\n    // Преобразуем телефон, убирая все нецифровые символы\n    const phoneValue = phone ? phone.replace(/[^\\d+]/g, \"\") : \"\";\n\n    // Создаем массив продуктов для API\n    const productsForApi = shoppingCartStore.items.map((item) => {\n      // Базовая информация о товаре\n      const productData: any = {\n        product_id: item.Product_ID,\n        parameter_id: item.parameters?.Parameter_ID || 0,\n        quantity: item.quantity || 1,\n      };\n\n      // Добавляем цвет только если он выбран\n      if (item.selectedColor?.id) {\n        productData.color = item.selectedColor.id;\n      }\n\n      return productData;\n    });\n\n    // Создаем объект заказа с только необходимыми данными\n    const orderData = {\n      tg_user_id:\n        window.Telegram?.WebApp?.initDataUnsafe?.user?.id || 749991691,\n      fio: fio,\n      phone: phoneValue,\n      city: city,\n      house: house,\n      apartment: apartment,\n      payment_type:\n        allowPostPayment && typePaymentId === 2 ? \"delivery\" : \"online\",\n      promocode: promocode || \"\",\n      products: productsForApi,\n    };\n\n    // Сохраняем данные текущего заказа для возможности повторной отправки\n    setCurrentOrderData(orderData);\n\n    try {\n      // Устанавливаем состояние загрузки\n      setIsLoading(true);\n\n      // Отправляем заказ на API\n      const response = await apiInstance.post(\"/order\", orderData);\n\n      // Сохраняем информацию о товарах заказа для отображения в модальном окне\n      const productsForOrder = [...shoppingCartStore.items];\n      setOrderProducts(productsForOrder);\n\n      // Сохраняем ответ от API\n      setOrderResponse(response.data);\n\n      // Очищаем корзину после успешного размещения заказа\n      runInAction(() => {\n        shoppingCartStore.items = [];\n        localStorage.removeItem(\"addedSettingItems\");\n      });\n\n      // Показываем модальное окно успеха\n      setShowSuccessModal(true);\n\n      // По завершении процесса заказа\n      setIsLoading(false);\n      setIsSubmitting(false);\n    } catch (error) {\n      // Получаем сообщение об ошибке из ответа API (если есть)\n      let errorMessage =\n        \"Не удалось отправить заказ. Пожалуйста, попробуйте позже.\";\n\n      const axiosError = error as AxiosError;\n\n      if (axiosError.response) {\n        // Ошибка от сервера\n        if (\n          axiosError.response.data &&\n          typeof axiosError.response.data === \"object\" &&\n          \"message\" in axiosError.response.data\n        ) {\n          errorMessage = axiosError.response.data.message as string;\n        } else if (axiosError.response.status === 400) {\n          errorMessage =\n            \"Некорректные данные заказа. Пожалуйста, проверьте введенную информацию.\";\n        } else if (axiosError.response.status === 401) {\n          errorMessage = \"Необходима авторизация для оформления заказа.\";\n        } else if (axiosError.response.status === 500) {\n          errorMessage =\n            \"Внутренняя ошибка сервера. Пожалуйста, попробуйте позже.\";\n        }\n      } else if (axiosError.request) {\n        // Запрос был отправлен, но нет ответа\n        errorMessage =\n          \"Сервер не отвечает. Пожалуйста, проверьте ваше соединение с интернетом.\";\n      }\n\n      // Устанавливаем сообщение об ошибке и показываем модальное окно\n      setFormError(errorMessage);\n      setShowErrorModal(true);\n      setIsLoading(false);\n      setIsSubmitting(false);\n    }\n  };\n\n  const clearLocalStorageExceptFirst3 = () => {\n    if (typeof window !== \"undefined\") {\n      const keys = Object.keys(localStorage);\n      const keysToKeep = [\"DataStore\", \"FavoritesStore\", \"ShoppingCartStore\"];\n      keys.forEach((key) => {\n        if (!keysToKeep.includes(key)) {\n          localStorage.removeItem(key);\n        }\n      });\n    }\n  };\n\n  const closeErrorModal = () => {\n    setShowErrorModal(false);\n  };\n\n  const closeSuccessModal = () => {\n    setShowSuccessModal(false);\n  };\n\n  // Функция для повторной отправки заказа\n  const retryOrder = async () => {\n    if (!currentOrderData) {\n      setFormError(\n        \"Не удалось повторить отправку заказа. Попробуйте снова заполнить форму.\"\n      );\n      setShowErrorModal(true);\n      return;\n    }\n\n    setIsSubmitting(true);\n    setShowErrorModal(false);\n\n    try {\n      // Отправляем заказ на API повторно\n      const response = await axios.post(\n        \"https://noxer-ai.ru/api/orders\",\n        currentOrderData\n      );\n\n      // Сохраняем ответ от API\n      setOrderResponse(response.data);\n\n      // Очищаем корзину после успешного размещения заказа\n      runInAction(() => {\n        shoppingCartStore.items = [];\n        localStorage.removeItem(\"addedSettingItems\");\n      });\n\n      // Показываем модальное окно успеха\n      setShowSuccessModal(true);\n\n      // По завершении процесса заказа\n      setIsLoading(false);\n      setIsSubmitting(false);\n      // Очищаем данные текущего заказа\n      setCurrentOrderData(null);\n    } catch (error) {\n      // Обработка ошибок осталась такой же, как в основной функции handleMakeOrder\n      let errorMessage =\n        \"Не удалось отправить заказ. Пожалуйста, попробуйте позже.\";\n\n      const axiosError = error as AxiosError;\n\n      if (axiosError.response) {\n        if (\n          axiosError.response.data &&\n          typeof axiosError.response.data === \"object\" &&\n          \"message\" in axiosError.response.data\n        ) {\n          errorMessage = axiosError.response.data.message as string;\n        } else if (axiosError.response.status === 400) {\n          errorMessage =\n            \"Некорректные данные заказа. Пожалуйста, проверьте введенную информацию.\";\n        } else if (axiosError.response.status === 401) {\n          errorMessage = \"Необходима авторизация для оформления заказа.\";\n        } else if (axiosError.response.status === 500) {\n          errorMessage =\n            \"Внутренняя ошибка сервера. Пожалуйста, попробуйте позже.\";\n        }\n      } else if (axiosError.request) {\n        errorMessage =\n          \"Сервер не отвечает. Пожалуйста, проверьте ваше соединение с интернетом.\";\n      }\n\n      setFormError(errorMessage);\n      setShowErrorModal(true);\n      setIsLoading(false);\n      setIsSubmitting(false);\n    }\n  };\n\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setIsIOS(detectIOS());\n    }\n\n    updateProductsLimit();\n\n    window.addEventListener(\"resize\", updateProductsLimit);\n\n    const postPaymentAllowed =\n      dataStore.data?.special_project_parameters\n        ?.cart_allow_post_payment_value === \"yes\";\n    setAllowPostPayment(postPaymentAllowed);\n\n    if (!postPaymentAllowed) {\n      setTypePaymentId(1);\n    }\n\n    return () => {\n      window.removeEventListener(\"resize\", updateProductsLimit);\n    };\n  }, [dataStore.data]); // Добавляем dataStore.data в зависимости\n\n  useEffect(() => {\n    if (shoppingCartStore.items.length === 0) setIsLoading(false);\n    else setIsLoading(true);\n  }, [shoppingCartStore.items]);\n\n  return (\n    <main\n      data-page=\"cart\"\n      className={`mt-[15px] px-[10px] w-full shoppingCart-main ${isIOS ? \"shoppingCart-main--ios\" : \"\"}`}\n    >\n      {showErrorModal && (\n        <FormErrorModal\n          message={formError}\n          onClose={closeErrorModal}\n          onRetry={currentOrderData ? retryOrder : undefined}\n        />\n      )}\n\n      {showSuccessModal &&\n        dataStore.data?.special_project_parameters?.PAYMENT_SYSTEM_value ===\n          \"yokassa\" && (\n          <SuccessModal\n            onClose={closeSuccessModal}\n            orderResponse={orderResponse}\n            orderProducts={orderProducts}\n            onPay={handlePayment}\n          />\n        )}\n\n      {showSuccessModal &&\n        dataStore.data?.special_project_parameters?.PAYMENT_SYSTEM_value ===\n          \"no\" && (\n          <ContactManagerModal\n            onClose={closeSuccessModal}\n            orderResponse={orderResponse}\n            orderProducts={orderProducts}\n            managerContact={\n              dataStore.data?.special_project_parameters\n                ?.telegram_manager_contact_value\n            }\n            onContactClick={handleContactClick}\n          />\n        )}\n\n      {showSuccessModal &&\n        dataStore.data?.special_project_parameters?.PAYMENT_SYSTEM_value ===\n          \"softpay\" && (\n          <SoftpayPaymentModal\n            onClose={closeSuccessModal}\n            orderResponse={orderResponse}\n            orderProducts={orderProducts}\n            onConfirm={handleSoftpayConfirm} // Используем новый обработчик\n          />\n        )}\n\n      {isLoading === \"pending\" ? (\n        <Loading />\n      ) : (\n        <>\n          {isLoading === true && (\n            <div className=\"shoppingCart-header\">\n              <h1 className=\"shoppingCart-header-title\">Корзина</h1>\n\n              {shoppingCartStore.items.length > 0 && (\n                <button\n                  onClick={() => {\n                    shoppingCartStore.clearCart();\n                    clearLocalStorageExceptFirst3();\n                  }}\n                  className=\"shoppingCart-header-button\"\n                >\n                  Очистить корзину\n                </button>\n              )}\n            </div>\n          )}\n\n          {isLoading === false ? (\n            <div\n              className={`empty-cart  \n                ${detectIOS() ? \"empty-cart--ios\" : \"\"}\n                `}\n            >\n              <div className=\"empty-cart-text\">\n                <p className=\"empty-cart-message\">Корзина пуста</p>\n                <p className=\"empty-cart-suggestion\">\n                  Воспользуйтесь каталогом <br /> или поиском для выбора товаров\n                </p>\n              </div>\n\n              <div className=\"recommended-products\">\n                <h2 className=\"recommended-title\">Рекомендуем</h2>\n                <div className=\"limited-products-grid\">\n                  <ProductsSection\n                    isFavorites={false}\n                    limit={productsLimit}\n                    importanceFilter={true}\n                  />\n                </div>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"shoppingCart-productsContainer\">\n                {shoppingCartStore.items?.map((product: any, index: number) => (\n                  <NavLink\n                    to={`/product/${product.Product_ID}`}\n                    key={index}\n                    className=\"shoppingCart-product\"\n                  >\n                    <div\n                      onClick={stopPropagation}\n                      className=\"shoppingCart-product-image-container\"\n                    >\n                      <img\n                        className=\"shoppingCart-product-image\"\n                        src={\n                          product.selectedColor?.image ||\n                          product.images[0].Image_URL\n                        }\n                        alt=\"\"\n                      />\n                    </div>\n\n                    <div className=\"shoppingCart-product-info\">\n                      <div className=\"shoppingCart-product-nameSize\">\n                        <div className=\"shoppingCart-product-name\">\n                          {product.Product_Name}\n                        </div>\n\n                        {product.parameters && (\n                          <div className=\"shoppingCart-product-size\">\n                            {product.parameters.name === \"Размер обуви\"\n                              ? \"Размер\"\n                              : product.parameters.name}\n                            : {product.parameters.parameter_string}\n                          </div>\n                        )}\n\n                        {product.selectedColor && (\n                          <div className=\"shoppingCart-product-color\">\n                            Цвет:{\" \"}\n                            <span className=\"color-name\">\n                              {product.selectedColor.name}\n                            </span>\n                            <span\n                              className=\"color-dot\"\n                              style={{\n                                backgroundColor:\n                                  product.selectedColor.code || \"#ccc\",\n                              }}\n                            />\n                          </div>\n                        )}\n                      </div>\n\n                      <div className=\"shoppingCart-product-priceQuantity\">\n                        <div className=\"shoppingCart-product-priceWrapper\">\n                          <p className=\"shoppingCart-product-price\">\n                            {product.final_price || product.parameters.price} ₽\n                          </p>\n\n                          {product.selectedColor?.discount > 0 && (\n                            <p className=\"shoppingCart-product-oldPrice\">\n                              {product.parameters.price} ₽\n                            </p>\n                          )}\n                        </div>\n\n                        <div\n                          className=\"shoppingCart-product-quantityControl\"\n                          onClick={stopPropagation}\n                        >\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              shoppingCartStore.decreaseQuantity(\n                                product.Product_ID,\n                                product.parameters?.parameter_string,\n                                product.selectedColor?.id\n                              )\n                            }\n                            className=\"shoppingCart-product-quantityControl-button\"\n                          >\n                            -\n                          </button>\n\n                          <p className=\"shoppingCart-product-quantityControl-value\">\n                            {product.quantity || 1}\n                          </p>\n\n                          <button\n                            type=\"button\"\n                            onClick={() =>\n                              shoppingCartStore.increaseQuantity(\n                                product.Product_ID,\n                                product.parameters?.parameter_string,\n                                product.selectedColor?.id\n                              )\n                            }\n                            className=\"shoppingCart-product-quantityControl-button\"\n                          >\n                            +\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n\n                    <button\n                      type=\"button\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        removeSpecificProductFromCart(\n                          product.Product_ID,\n                          product.Product_Name,\n                          product.parameters?.parameter_string,\n                          product.selectedColor?.id\n                        );\n                      }}\n                      className=\"shoppingCart-product-delete\"\n                    >\n                      <img\n                        src={`${iconsBaseLink}close-icon.svg`}\n                        alt=\"\"\n                        className=\"shoppingCart-product-delete-icon\"\n                      />\n                    </button>\n                  </NavLink>\n                ))}\n              </div>\n              <form className=\"shoppingCart-form\">\n                <div className=\"shoppingCart-form-contactInfo\">\n                  <h2 className=\"shoppingCart-form-contactInfo-title\">\n                    Контактная информация\n                  </h2>\n\n                  <div className=\"shoppingCart-form-contactInfo-fieldsContainer\">\n                    <div className=\"input-wrapper\">\n                      <input\n                        type=\"text\"\n                        placeholder=\"ФИО\"\n                        value={fio}\n                        onChange={handleFioChange}\n                        className={`shoppingCart-form-contactInfo-fieldsContainer-input ${fioError ? \"input-error\" : \"\"}`}\n                      />\n                    </div>\n\n                    <div className=\"input-wrapper\">\n                      <MaskedInput\n                        mask={phoneMask}\n                        placeholder=\"+7 (___) ___ __-__\"\n                        guide={true}\n                        value={phone}\n                        onChange={handlePhoneChange}\n                        type=\"tel\"\n                        className={`shoppingCart-form-contactInfo-fieldsContainer-input ${phoneError ? \"input-error\" : \"\"}`}\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"shoppingCart-form-deliveryInfo\">\n                  <h2 className=\"shoppingCart-form-deliveryInfo-title\">\n                    Способ доставки\n                  </h2>\n\n                  <button\n                    type=\"button\"\n                    className=\"shoppingCart-form-deliveryInfo-cdekButton\"\n                  >\n                    <div className=\"shoppingCart-form-deliveryInfo-cdekButton-top\">\n                      <img src={`${iconsBaseLink}cdek-icon.svg`} alt=\"\" />\n\n                      <p className=\"shoppingCart-form-deliveryInfo-cdekButton-top-text\">\n                        (выбор 97% клиентов)\n                      </p>\n                    </div>\n\n                    <p className=\"shoppingCart-form-deliveryInfo-cdekButton-text\">\n                      Доставка осуществляется транспортной компанией CDEK по\n                      тарифам компании. Нажмите \"Выбрать адрес\" и выберите пункт\n                      выдачи на карте\n                    </p>\n\n                    <img\n                      src={`${iconsBaseLink}payment-choiced-icon.svg`}\n                      alt=\"\"\n                      className=\"shoppingCart-form-deliveryInfo-cdekButton-icon\"\n                    />\n                  </button>\n\n                  <h3 className=\"shoppingCart-form-deliveryInfo-addressTitle\">\n                    Адрес доставки (или СДЕК)\n                  </h3>\n\n                  <div className=\"shoppingCart-form-deliveryInfo-addressInputsContainer\">\n                    <input\n                      type=\"text\"\n                      placeholder=\"Город и улица\"\n                      value={city}\n                      onChange={handleCityChange}\n                      className={`shoppingCart-form-deliveryInfo-fullWidthInput ${cityError ? \"input-error\" : \"\"}`}\n                    />\n\n                    <div className=\"shoppingCart-form-deliveryInfo-inputsRow\">\n                      <div className=\"input-wrapper\">\n                        <input\n                          type=\"text\"\n                          placeholder=\"Дом\"\n                          value={house}\n                          onChange={handleHouseChange}\n                          className={`shoppingCart-form-deliveryInfo-halfWidthInput ${houseError ? \"input-error\" : \"\"}`}\n                        />\n                      </div>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Квартира\"\n                        value={apartment}\n                        onChange={(e) => setApartment(e.target.value)}\n                        className=\"shoppingCart-form-deliveryInfo-halfWidthInput\"\n                      />\n                    </div>\n\n                    {/* <textarea placeholder=\"Примечание\" value={address} onChange={(e) => setAddress(e.target.value)} className=\"shoppingCart-form-deliveryInfo-addressField\" /> */}\n                  </div>\n\n                  <input\n                    type=\"text\"\n                    placeholder=\"Комментарий к заказу\"\n                    onChange={(e) => setComment(e.target.value)}\n                    className=\"shoppingCart-form-deliveryInfo-commentField\"\n                  />\n                </div>\n\n                {allowPostPayment && (\n                  <div className=\"shoppingCart-form-paymentType\">\n                    <h2 className=\"shoppingCart-form-paymentType-title\">\n                      Тип оплаты\n                    </h2>\n\n                    <div className=\"shoppingCart-form-paymentType-buttons\">\n                      <button\n                        type=\"button\"\n                        onClick={() => setTypePaymentId(1)}\n                        className={`shoppingCart-form-paymentType-button ${typePaymentId === 1 && \"shoppingCart-form-paymentType-button--active\"}`}\n                      >\n                        <p className=\"shoppingCart-form-paymentType-text\">\n                          Оплата онлайн в приложении\n                        </p>\n\n                        <div className=\"shoppingCart-form-paymentType-checkbox\">\n                          {typePaymentId === 1 && (\n                            <img\n                              src={`${iconsBaseLink}payment-choiced-icon.svg`}\n                              alt=\"\"\n                              className=\"shoppingCart-form-paymentType-icon\"\n                            />\n                          )}\n                        </div>\n                      </button>\n\n                      <button\n                        type=\"button\"\n                        onClick={() => setTypePaymentId(2)}\n                        className={`shoppingCart-form-paymentType-button ${typePaymentId === 2 && \"shoppingCart-form-paymentType-button--active\"}`}\n                      >\n                        <p className=\"shoppingCart-form-paymentType-text\">\n                          Оплата при получении\n                        </p>\n\n                        <div className=\"shoppingCart-form-paymentType-checkbox\">\n                          {typePaymentId === 2 && (\n                            <img\n                              src={`${iconsBaseLink}payment-choiced-icon.svg`}\n                              alt=\"\"\n                              className=\"shoppingCart-form-paymentType-icon\"\n                            />\n                          )}\n                        </div>\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"shoppingCart-form-paymentInfo\">\n                  <h2 className=\"shoppingCart-form-paymentInfo-title\">\n                    Форма оплаты\n                  </h2>\n\n                  <button className=\"shoppingCart-form-paymentInfo-sbpButton\">\n                    <div className=\"shoppingCart-form-paymentInfo-sbpButton-top\">\n                      <p className=\"shoppingCart-form-paymentInfo-sbpButton-top-text\">\n                        Оплата по СБП\n                      </p>\n\n                      <img src={`${iconsBaseLink}sbp-icon.svg`} alt=\"\" />\n                    </div>\n\n                    <p className=\"shoppingCart-form-paymentInfo-sbpButton-text\">\n                      После оформления заказа вы сможете получить реквизиты для\n                      оплаты по системе СБП\n                    </p>\n\n                    <img\n                      src={`${iconsBaseLink}payment-choiced-icon.svg`}\n                      alt=\"\"\n                      className=\"shoppingCart-form-paymentInfo-sbpButton-icon\"\n                    />\n                  </button>\n                </div>\n\n                <div className=\"shoppingCart-form-totalInfo\">\n                  <h2 className=\"shoppingCart-form-totalInfo-title\">\n                    Промокод\n                  </h2>\n\n                  <input\n                    type=\"text\"\n                    placeholder=\"Введите промокод\"\n                    onChange={(e) => setPromocode(e.target.value)}\n                    className=\"shoppingCart-form-totalInfo-input\"\n                  />\n\n                  <div className=\"shoppingCart-form-totalInfo-pricesContainer\">\n                    <div className=\"shoppingCart-form-totalInfo-pricesContainer-item\">\n                      <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                        Сумма заказа\n                      </p>\n\n                      <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                        {getTotalOrderPrice()} ₽\n                      </p>\n                    </div>\n\n                    <div className=\"shoppingCart-form-totalInfo-pricesContainer-item\">\n                      <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                        Доставка\n                      </p>\n\n                      <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                        {getCurrentDeliveryPrice()} ₽\n                      </p>\n                    </div>\n                    {getSalePrice() > 0 && (\n                      <div className=\"shoppingCart-form-totalInfo-pricesContainer-item\">\n                        <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                          Скидка\n                        </p>\n                        <p className=\"shoppingCart-form-totalInfo-pricesContainer-item-text\">\n                          -{getSalePrice()} ₽\n                        </p>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"shoppingCart-form-totalInfo-summary\">\n                    <div className=\"shoppingCart-form-totalInfo-summary-top\">\n                      <p className=\"shoppingCart-form-totalInfo-summary-top-text\">\n                        Итого\n                      </p>\n\n                      <p className=\"shoppingCart-form-totalInfo-summary-top-text\">\n                        {allowPostPayment && typePaymentId === 2\n                          ? getCurrentDeliveryPrice()\n                          : getTotalOrderPrice() -\n                            getSalePrice() +\n                            getCurrentDeliveryPrice()}{\" \"}\n                        ₽\n                      </p>\n                    </div>\n\n                    <p className=\"shoppingCart-form-totalInfo-summary-count\">\n                      {shoppingCartStore.items.reduce(\n                        (acc, item) => acc + (item.quantity || 1),\n                        0\n                      )}{\" \"}\n                      {getProductsCountText()}\n                    </p>\n                  </div>\n                </div>\n\n                <button\n                  type=\"button\"\n                  onClick={handleMakeOrder}\n                  className={`shoppingCart-form-makeOrderButton click-effect-block \n                    ${showSuccessModal ? \"button-behind-modal\" : \"\"}\n                    ${isIOS ? \"ios-button\" : \"\"}\n                    `}\n                  disabled={isSubmitting}\n                >\n                  <p className=\"shoppingCart-form-makeOrderButton-text\">\n                    {isSubmitting ? \"Оформление заказа...\" : \"Оплатить заказ\"}\n                  </p>\n                </button>\n                {formError && !showErrorModal && (\n                  <div className=\"shoppingCart-form-error\">{formError}</div>\n                )}\n              </form>\n            </>\n          )}\n        </>\n      )}\n    </main>\n  );\n});\n\nexport default ShoppingCartContent;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5763, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/entities/VideoReview.tsx"],"sourcesContent":["import { useRef } from \"react\";\nimport \"@/styles/entities/video-review.css\";\n\ninterface VideoReviewProps {\n  Poster_URL: string;\n  Product_ID: number;\n  Video_ID: number;\n  Video_URL: string;\n}\nfunction VideoReview({ video }: { video: VideoReviewProps }) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const handlePlayOnClick = () => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (video.paused) {\n      video.play().catch((error) => {\n        console.error(\"Video play failed:\", error);\n      });\n    } else {\n      video.pause();\n    }\n  };\n\n  return video.Video_URL ? (\n    <div id=\"Video-review\" className=\"video-review-block\">\n      <h3 className=\"video-review-title\">Видеообзор</h3>\n      <div className=\"video-review-wrapper\" onClick={handlePlayOnClick}>\n        <div className=\"video-review-helper-block\"></div>\n        <video\n          ref={videoRef}\n          src={video.Video_URL}\n          poster={video.Poster_URL || \"\"}\n          controls\n          playsInline\n          preload={video.Poster_URL ? \"none\" : \"auto\"}\n          className=\"video-review-content\"\n        ></video>\n      </div>\n    </div>\n  ) : null;\n}\n\nexport default VideoReview;\n"],"names":[],"mappings":";;;;AAAA;;;;AASA,SAAS,YAAY,EAAE,KAAK,EAA+B;IACzD,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAoB;IAE1C,MAAM,oBAAoB;QACxB,MAAM,QAAQ,SAAS,OAAO;QAC9B,IAAI,CAAC,OAAO;QAEZ,IAAI,MAAM,MAAM,EAAE;YAChB,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC;gBAClB,QAAQ,KAAK,CAAC,sBAAsB;YACtC;QACF,OAAO;YACL,MAAM,KAAK;QACb;IACF;IAEA,OAAO,MAAM,SAAS,iBACpB,8OAAC;QAAI,IAAG;QAAe,WAAU;;0BAC/B,8OAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,8OAAC;gBAAI,WAAU;gBAAuB,SAAS;;kCAC7C,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBACC,KAAK;wBACL,KAAK,MAAM,SAAS;wBACpB,QAAQ,MAAM,UAAU,IAAI;wBAC5B,QAAQ;wBACR,WAAW;wBACX,SAAS,MAAM,UAAU,GAAG,SAAS;wBACrC,WAAU;;;;;;;;;;;;;;;;;eAId;AACN;uCAEe","debugId":null}},
    {"offset": {"line": 5840, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/widgets/pageContents/ProductContent.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { useRouter } from \"next/navigation\";\n\nimport { observer } from \"mobx-react-lite\";\n\nimport { iconsBaseLink } from \"@/utils/globalVariables\";\n\nimport { dataStore } from \"@/store/DataStore\";\nimport { shoppingCartStore } from \"@/store/ShoppingCartStore\";\nimport { favoritesStore } from \"@/store/FavoritesStore\";\n\nimport { Pagination, Navigation } from \"swiper/modules\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\n\nimport Slider from \"@/shared/Slider\";\n\nimport \"@/styles/widgets/product.css\";\n\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\nimport \"swiper/css/navigation\";\nimport Loading from \"@/shared/Loading\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { detectIOS } from \"@/utils/detectIOS\";\nimport { getTagBackground } from \"@/utils/getTagBackground\";\nimport { getTagLabel } from \"@/utils/getTagLabel\";\nimport VideoReview from \"@/entities/VideoReview\";\n\nconst ProductContent = observer(() => {\n  const params = useParams<{ productId: string }>();\n  const router = useRouter();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Получаем ID продукта из хэша URL\n  const [productId, setProductId] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (params.productId) {\n      setProductId(params.productId);\n    }\n  }, [params]);\n\n  const descriptionRef = useRef<HTMLParagraphElement>(null);\n  const specsRef = useRef<HTMLParagraphElement>(null);\n\n  const [targetProduct, setTargetProduct] = useState({} as any);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState(false);\n\n  const [currentSettingsItems, setCurrentSettingsItems] = useState([] as any);\n  const [addedSettingItems, setAddedSettingItems] = useState([] as any);\n  const [selectedParams, setSelectedParams] = useState(\n    {} as { [key: string]: any }\n  );\n  const [selectedColor, setSelectedColor] = useState<any>(null);\n  const [mainImageUrl, setMainImageUrl] = useState<string | null>(null);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [selectedParameterType, setSelectedParameterType] =\n    useState<string>(\"Размер\");\n\n  const [isDescriptionOpen, setIsDescriptionOpen] = useState(false);\n  const [isSpecsOpen, setIsSpecsOpen] = useState(false);\n\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n\n  const [isAddToCartEnabled, setIsAddToCartEnabled] = useState(false);\n\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n\n  const [colorRequiredPopup, setColorRequiredPopup] = useState<boolean>(false);\n\n  const infoCards = [\n    {\n      title: \"Наши гарантии на товар\",\n      image: `${iconsBaseLink}warranty-icon.svg`,\n    },\n    {\n      title: \"О нашем магазине\",\n      image: `${iconsBaseLink}about-icon.svg`,\n    },\n    {\n      title: \"Как можно вернуть товар?\",\n      image: `${iconsBaseLink}refund-icon.svg`,\n    },\n    {\n      title: \"Доставка и оплата товара\",\n      image: `${iconsBaseLink}delivery-icon.svg`,\n    },\n  ];\n\n  function toggleHandler(\n    refCurrent: HTMLParagraphElement,\n    isOpen: boolean,\n    setIsOpen: (v: boolean) => void\n  ) {\n    if (isOpen) {\n      setIsOpen(false);\n      refCurrent.style.marginTop = `0px`;\n      refCurrent.style.maxHeight = `0px`;\n    } else {\n      setIsOpen(true);\n      refCurrent.style.marginTop = `15px`;\n      refCurrent.style.maxHeight = `${refCurrent.scrollHeight}px`;\n    }\n  }\n\n  function addSettingItem(settingItem: any, paramName: string) {\n    if (!settingItem) return;\n\n    // Если это параметр с именем \"Цвет\", но не из массива colors,\n    // проверим, есть ли у него extra_field_image или extra_field_color\n    if (paramName.toLowerCase() === \"цвет\" && !targetProduct.colors?.length) {\n      const fullParam = targetProduct.parameters.find(\n        (p: any) => p.Parameter_ID === settingItem.id\n      );\n\n      if (fullParam?.extra_field_image) {\n        setMainImageUrl(fullParam.extra_field_image);\n      }\n    }\n\n    // Новый объект параметров с очищенным полем parameters, но сохраненным color\n    const updatedParams = { Color: selectedParams.Color } as {\n      [key: string]: any;\n    };\n\n    // Добавляем новый выбранный параметр\n    updatedParams[paramName] = settingItem;\n\n    // Устанавливаем выбранный тип параметра\n    setSelectedParameterType(paramName);\n\n    // Обновляем состояние\n    setSelectedParams(updatedParams);\n    setCurrentSettingsItems([settingItem]);\n\n    // Проверяем, есть ли в корзине товар с таким параметром\n    updateAddingToCartState(\n      targetProduct.Product_ID,\n      settingItem?.id,\n      selectedColor?.Color_ID\n    );\n  }\n\n  function selectColor(color: any) {\n    if (!color) return;\n    if (selectedColor === color) {\n      setSelectedColor(null);\n      // При отмене выбора цвета сбрасываем mainImageUrl, чтобы показать слайдер\n      setMainImageUrl(null);\n      return;\n    }\n    // Сохраняем текущий выбранный цвет\n    setSelectedColor(color);\n\n    // Если у цвета есть изображение, устанавливаем его как основное\n    if (color.Color_image) {\n      setMainImageUrl(color.Color_image);\n    } else {\n      // Иначе сбрасываем mainImageUrl для отображения слайдера\n      setMainImageUrl(null);\n    }\n\n    // Сохраняем текущие выбранные параметры, а не сбрасываем их\n    const updatedParams = { ...selectedParams };\n\n    // Добавляем или обновляем цвет\n    updatedParams.Color = {\n      id: color.Color_ID,\n      title: color.Color_Name,\n      colorCode: color.Color_Code,\n      colorImage: color.Color_image,\n      discount: color.discount || 0,\n    };\n\n    // Обновляем состояние\n    setSelectedParams(updatedParams);\n\n    // Проверяем, есть ли в корзине товар с выбранным параметром и цветом\n    const currentParam = currentSettingsItems[0];\n    updateAddingToCartState(\n      targetProduct.Product_ID,\n      currentParam?.id,\n      color.Color_ID\n    );\n  }\n\n  function toggleDescriptionHandler() {\n    if (descriptionRef.current)\n      toggleHandler(\n        descriptionRef.current,\n        isDescriptionOpen,\n        setIsDescriptionOpen\n      );\n  }\n\n  function toggleSpecsHandler() {\n    if (specsRef.current)\n      toggleHandler(specsRef.current, isSpecsOpen, setIsSpecsOpen);\n  }\n\n  function handleAddToCart() {\n    if (!targetProduct?.Product_ID) return;\n\n    if (isAddingToCart) {\n      // Для большей надежности можно установить хэш вручную\n      window.location.hash = \"#/shoppingcart\";\n      // Если выше не сработает, то используем navigate\n      setTimeout(() => {\n        navigate(\"/shoppingcart\");\n      }, 100);\n      return;\n    }\n\n    // Проверяем наличие параметров и цветов в товаре\n    const hasParameters = targetProduct.parameters?.length > 0;\n    const hasColors = targetProduct.colors?.length > 0;\n\n    // Получаем выбранный параметр из массива parameters\n    let selectedParam = null;\n    for (const key in selectedParams) {\n      if (key !== \"Color\" && selectedParams[key]) {\n        selectedParam = selectedParams[key];\n        break;\n      }\n    }\n\n    // Получаем выбранный цвет\n    const selectedColorParam = selectedParams.Color;\n\n    // Если есть массив colors и не выбран цвет, показываем предупреждение\n    if (hasColors && !selectedColorParam) {\n      setErrorMessage(\"Пожалуйста, выберите цвет товара\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000); // Скрыть сообщение через 3 секунды\n      return;\n    }\n\n    // Проверяем, что выбраны необходимые параметры (только если они есть)\n    if (hasParameters && !selectedParam) {\n      setErrorMessage(\"Пожалуйста, выберите параметр товара\");\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 3000); // Скрыть сообщение через 3 секунды\n      return;\n    }\n\n    // Создаем данные для добавления в корзину\n    const cartData = {\n      paramId: selectedParam?.id,\n      paramTitle: selectedParam?.title,\n      colorId: selectedColorParam?.id,\n      colorName: selectedColorParam?.title,\n      colorCode: selectedColorParam?.colorCode,\n      colorImage: selectedColorParam?.colorImage,\n      discount: selectedColorParam?.discount || 0,\n    };\n\n    // Добавляем товар в корзину\n    shoppingCartStore.addToCart(targetProduct.Product_ID, cartData);\n\n    // Сохраняем информацию о выбранном параметре для отслеживания состояния кнопки\n    const selectedParamData = {\n      id: selectedParam?.id || null,\n      productId: targetProduct.Product_ID,\n      title: selectedParam?.title || null,\n      colorId: selectedColorParam?.id,\n      colorName: selectedColorParam?.title,\n      colorImage: selectedColorParam?.colorImage,\n    };\n\n    setAddedSettingItems([...addedSettingItems, selectedParamData]);\n    localStorage.setItem(\n      \"addedSettingItems\",\n      JSON.stringify([...addedSettingItems, selectedParamData])\n    );\n    setIsAddingToCart(true);\n  }\n\n  function handleViewAllReviews() {\n    const reviewsLink =\n      dataStore.data?.special_project_parameters?.reviews_link_value;\n    if (reviewsLink) {\n      window.open(reviewsLink, \"_blank\");\n    }\n  }\n\n  function openLinkTeletype(link: string) {\n    const tg = window.Telegram.WebApp;\n    if (tg) {\n      tg.openLink(link, { try_instant_view: true });\n    } else {\n      window.open(link, \"_blank\");\n    }\n  }\n\n  useEffect(() => {\n    if (Object.keys(selectedParams).length > 0) {\n      // Базовая цена из выбранных параметров\n      let newTotalPrice = Object.values(selectedParams).reduce(\n        (sum: number, param: any) => {\n          // Проверяем, что параметр существует\n          if (!param) return sum;\n\n          // Проверяем, что это не цвет из массива colors\n          // В этом случае у него будет свойство colorCode\n          if (param.colorCode) return sum;\n\n          return sum + (param?.price || 0);\n        },\n        0\n      );\n\n      // Вычитаем абсолютную скидку цвета, если есть\n      if (selectedParams.Color && selectedParams.Color.discount) {\n        newTotalPrice = Math.max(\n          0,\n          newTotalPrice - selectedParams.Color.discount\n        );\n      }\n\n      setTotalPrice(newTotalPrice);\n    } else {\n      // Если нет выбранных параметров, устанавливаем цену 0\n      setTotalPrice(0);\n    }\n  }, [selectedParams]);\n\n  useEffect(() => {\n    if (Object.entries(targetProduct).length) {\n      // Всегда начинаем с новых выбранных параметров\n      let newSelectedParams = {} as { [key: string]: any };\n\n      // НЕ устанавливаем изображение как основное автоматически\n      // Пусть пользователь сначала увидит слайдер\n      setMainImageUrl(null);\n\n      // НЕ инициализируем цвет автоматически, пользователь должен выбрать его сам\n      setSelectedColor(null);\n\n      // Инициализируем параметры из массива parameters если они есть\n      if (targetProduct.parameters?.length > 0) {\n        // Ищем параметр с chosen=true или берем первый\n        const chosenParam = targetProduct.parameters.find((p: any) => p.chosen);\n        const paramToUse = chosenParam || targetProduct.parameters[0];\n\n        if (paramToUse) {\n          // Добавляем выбранный параметр в общий объект\n          newSelectedParams[paramToUse.name] = {\n            id: paramToUse.Parameter_ID,\n            index: 0,\n            title: paramToUse.parameter_string,\n            price: paramToUse.price || 0,\n            old_price: paramToUse.old_price || null,\n          };\n\n          // Устанавливаем тип параметра\n          setSelectedParameterType(paramToUse.name);\n\n          // Устанавливаем текущий выбранный параметр\n          setCurrentSettingsItems([\n            {\n              id: paramToUse.Parameter_ID,\n              index: 0,\n              title: paramToUse.parameter_string,\n              price: paramToUse.price || 0,\n              old_price: paramToUse.old_price || null,\n            },\n          ]);\n        }\n      }\n\n      // Устанавливаем все выбранные параметры сразу\n      if (Object.keys(newSelectedParams).length > 0) {\n        setSelectedParams(newSelectedParams);\n      }\n    }\n  }, [targetProduct]);\n\n  useEffect(() => {\n    const savedItems = localStorage.getItem(\"addedSettingItems\");\n    if (savedItems) {\n      try {\n        setAddedSettingItems(JSON.parse(savedItems));\n      } catch (error) {\n        setAddedSettingItems([]);\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (addedSettingItems.length > 0) {\n      localStorage.setItem(\n        \"addedSettingItems\",\n        JSON.stringify(addedSettingItems)\n      );\n    }\n  }, [addedSettingItems]);\n\n  useEffect(() => {\n    if (currentSettingsItems.length > 0 && targetProduct?.Product_ID) {\n      // Получаем цвет, если он выбран\n      const selectedColorId = selectedColor?.Color_ID;\n\n      // Проверяем, есть ли текущий параметр с текущим цветом в корзине\n      const isCurrentSettingInCart = addedSettingItems.some((item: any) => {\n        // Проверка параметра\n        const paramMatch =\n          item?.id === currentSettingsItems[0]?.id &&\n          item?.productId === targetProduct.Product_ID;\n\n        // Проверка цвета\n        const colorMatch =\n          !selectedColorId || item?.colorId === selectedColorId;\n\n        return paramMatch && (selectedColorId ? colorMatch : true);\n      });\n\n      setIsAddingToCart(isCurrentSettingInCart);\n    }\n  }, [\n    currentSettingsItems,\n    targetProduct?.Product_ID,\n    addedSettingItems,\n    selectedColor,\n  ]);\n\n  // Проверяем, можно ли добавить товар в корзину (выбраны все обязательные параметры)\n  useEffect(() => {\n    // Проверяем наличие параметров и цветов в товаре\n    const hasParameters = targetProduct?.parameters?.length > 0;\n    const hasColors = targetProduct?.colors?.length > 0;\n\n    // Проверяем, что выбраны все необходимые параметры\n    let canAddToCart = true;\n\n    if (hasParameters) {\n      // Ищем параметр, который не является цветом\n      const hasSelectedParam = Object.keys(selectedParams).some(\n        (key) => key !== \"Color\"\n      );\n\n      if (!hasSelectedParam) {\n        canAddToCart = false;\n      }\n    }\n\n    if (hasColors) {\n      if (!selectedParams.Color) {\n        canAddToCart = false;\n      }\n    }\n\n    setIsAddToCartEnabled(canAddToCart);\n  }, [targetProduct, selectedParams]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    try {\n      const product = dataStore.data?.products?.find(\n        (product: any) => product?.Product_ID === Number(productId)\n      );\n\n      if (!product) {\n        setIsError(true);\n      } else {\n        setIsError(false);\n        setTargetProduct(product);\n        setIsLoading(false);\n      }\n    } catch (error) {\n      setIsError(true);\n    }\n  }, [productId, dataStore.data]);\n\n  // Вспомогательная функция для обновления состояния isAddingToCart\n  function updateAddingToCartState(\n    productId: number,\n    paramId?: number,\n    colorId?: number\n  ) {\n    const isCurrentItemInCart = addedSettingItems.some((item: any) => {\n      const productMatch = item?.productId === productId;\n      const paramMatch = !paramId || item?.id === paramId;\n      const colorMatch = !colorId || item?.colorId === colorId;\n\n      return productMatch && paramMatch && colorMatch;\n    });\n\n    setIsAddingToCart(isCurrentItemInCart);\n  }\n\n  function scrollToVideo() {\n    const e = document.getElementById(\"Video-review\");\n    if (e) e.scrollIntoView({ behavior: \"smooth\" });\n  }\n\n  // Функция для показа попапа при клике на заблокированную кнопку\n  function showColorRequiredPopup() {\n    // Если кнопка заблокирована из-за отсутствия выбранного цвета\n    if (targetProduct.colors?.length > 0 && !selectedColor) {\n      setColorRequiredPopup(true);\n      // Скрываем попап через 3 секунды\n      setTimeout(() => {\n        setColorRequiredPopup(false);\n      }, 3000);\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <main\n        className={`main-container ${detectIOS() ? \"main-container--ios\" : \"\"}`}\n      >\n        <div className=\"flex items-center justify-center w-full h-full min-h-[60vh]\">\n          <Loading />\n        </div>\n      </main>\n    );\n  }\n\n  if (isError || !targetProduct?.Product_ID) {\n    return (\n      <main\n        className={`main-container ${detectIOS() ? \"main-container--ios\" : \"\"}`}\n      >\n        <div className=\"flex items-center justify-center w-full h-full min-h-[60vh]\">\n          <p className=\"text-xl\">\n            Произошла ошибка при загрузке товара или товар не найден.\n          </p>\n        </div>\n      </main>\n    );\n  }\n\n  return (\n    <main\n      className={`main-container ${detectIOS() ? \"main-container--ios\" : \"\"}`}\n    >\n      <style jsx global>{`\n        .swiper-pagination-bullet {\n          width: 8px !important;\n          height: 8px !important;\n          opacity: 0.7 !important;\n          background: #999 !important;\n          margin: 0 4px;\n        }\n        .swiper-pagination-bullet-active {\n          opacity: 1 !important;\n          background: #333 !important;\n        }\n        .swiper-slide {\n          display: flex !important;\n          justify-content: center !important;\n          align-items: center !important;\n          width: 100% !important;\n          opacity: 1 !important;\n        }\n        .swiper-slide-content {\n          width: 100%;\n          height: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .product-image-item {\n          max-width: 100%;\n          max-height: 100%;\n          object-fit: contain;\n        }\n        .swiper-pagination {\n          bottom: 10px !important;\n          z-index: 10 !important;\n        }\n      `}</style>\n      <div className=\"product-image-container\">\n        {targetProduct.marks?.length > 0 &&\n        targetProduct.marks[0]?.Mark_Name ? (\n          <div\n            className={`product-tag ${getTagBackground(targetProduct.marks[0].Mark_Name)}`}\n          >\n            {getTagLabel(targetProduct.marks[0].Mark_Name)}\n          </div>\n        ) : null}\n\n        <button\n          onClick={() =>\n            favoritesStore.toggleFavorite(targetProduct.Product_ID)\n          }\n          className=\"product-favorite\"\n        >\n          <svg\n            width=\"25\"\n            height=\"25\"\n            viewBox=\"0 0 18 16\"\n            fill={\n              favoritesStore.favoritesIds.some(\n                (item) => item === targetProduct.Product_ID\n              )\n                ? \"#FE646F\"\n                : \"transparent\"\n            }\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"cursor-pointer\"\n          >\n            <path\n              d=\"M9.30663 14.7267L9.30662 14.7267L9.30029 14.7289C9.24983 14.7467 9.14099 14.7668 8.99996 14.7668C8.85893 14.7668 8.75009 14.7467 8.69963 14.7289L8.69964 14.7289L8.69329 14.7267C7.57825 14.346 5.71238 13.3333 4.13388 11.716C2.56322 10.1067 1.31663 7.94228 1.31663 5.24183C1.31663 3.02277 3.10364 1.2335 5.29996 1.2335C6.60123 1.2335 7.75317 1.86153 8.47812 2.8377C8.60075 3.00282 8.79429 3.10016 8.99996 3.10016C9.20563 3.10016 9.39917 3.00282 9.5218 2.8377C10.2464 1.86206 11.4064 1.2335 12.7 1.2335C14.8963 1.2335 16.6833 3.02277 16.6833 5.24183C16.6833 7.94228 15.4367 10.1067 13.866 11.716C12.2875 13.3333 10.4217 14.346 9.30663 14.7267Z\"\n              stroke={\n                favoritesStore.favoritesIds.some(\n                  (item) => item === targetProduct.Product_ID\n                )\n                  ? \"#FE646F\"\n                  : \"#6C6C6C\"\n              }\n              strokeWidth=\"1.3\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n        </button>\n\n        {/* Основное отображение изображений */}\n        {mainImageUrl ? (\n          <div className=\"product-image\">\n            <div className=\"swiper-slide-content\">\n              <img\n                className=\"product-image-item\"\n                src={mainImageUrl}\n                alt={`Изображение товара ${targetProduct.Product_Name || \"Товар\"}`}\n                onError={(e) => {\n                  e.currentTarget.src = \"/placeholder-image.jpg\";\n                  // Если изображение цвета не загрузилось, сбрасываем mainImageUrl\n                  setMainImageUrl(null);\n                }}\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"product-image\">\n            {(() => {\n              try {\n                // Преобразуем Proxy объекты в обычные\n                const rawProduct = JSON.parse(JSON.stringify(targetProduct));\n\n                // Собираем все изображения\n                let allImages = [...(rawProduct.images || [])];\n\n                // Добавляем изображения из параметров\n                if (rawProduct.parameters) {\n                  rawProduct.parameters.forEach((param: any) => {\n                    if (param.extra_field_image) {\n                      allImages.push({\n                        Image_ID: `param-${param.Parameter_ID}`,\n                        Image_URL: param.extra_field_image,\n                        MainImage: false,\n                        Product_ID: rawProduct.Product_ID,\n                        from_parameter: true,\n                        parameter_name: param.parameter_string,\n                      });\n                    }\n                  });\n                }\n\n                // Если нет изображений, показываем заглушку\n                if (allImages.length === 0) {\n                  return (\n                    <div className=\"swiper-slide-content\">\n                      <img\n                        className=\"product-image-item\"\n                        src=\"/placeholder-image.jpg\"\n                        alt=\"Изображение товара отсутствует\"\n                      />\n                    </div>\n                  );\n                }\n\n                // Если есть только одно изображение, показываем его без слайдера\n                if (allImages.length === 1) {\n                  return (\n                    <div className=\"swiper-slide-content\">\n                      <img\n                        className=\"product-image-item\"\n                        src={allImages[0].Image_URL}\n                        alt={`Изображение товара ${rawProduct.Product_Name || \"Товар\"}`}\n                        onError={(e) => {\n                          e.currentTarget.src = \"/placeholder-image.jpg\";\n                        }}\n                      />\n                    </div>\n                  );\n                }\n\n                // Если несколько изображений, используем Swiper\n                return (\n                  <Swiper\n                    modules={[Pagination]}\n                    spaceBetween={10}\n                    slidesPerView={1}\n                    pagination={{\n                      clickable: true,\n                    }}\n                    className=\"product-slider\"\n                    onInit={(swiper) => {\n                      setTimeout(() => swiper.update(), 100);\n                    }}\n                  >\n                    {allImages.map((image, index) => (\n                      <SwiperSlide\n                        key={`slide-${index}-${image.Image_ID || Math.random()}`}\n                      >\n                        <div className=\"swiper-slide-content\">\n                          <img\n                            className=\"product-image-item\"\n                            src={image.Image_URL}\n                            alt={`Изображение товара ${rawProduct.Product_Name || \"Товар\"} ${image.from_parameter ? `(${image.parameter_name})` : \"\"}`}\n                            onError={(e) => {\n                              e.currentTarget.src = \"/placeholder-image.jpg\";\n                            }}\n                          />\n                        </div>\n                      </SwiperSlide>\n                    ))}\n                  </Swiper>\n                );\n              } catch (error) {\n                return (\n                  <div className=\"swiper-slide-content\">\n                    <img\n                      className=\"product-image-item\"\n                      src=\"/placeholder-image.jpg\"\n                      alt=\"Ошибка загрузки изображений\"\n                    />\n                  </div>\n                );\n              }\n            })()}\n          </div>\n        )}\n      </div>\n\n      <div className=\"product-details\">\n        <h1 className=\"product-title\">\n          {targetProduct.Product_Name || \"Неизвестный товар\"}\n        </h1>\n\n        <div className=\"price-container\">\n          <p className=\"current-price\">{totalPrice || 0} ₽</p>\n\n          {selectedColor?.discount > 0 && (\n            <p className=\"old-price\">{totalPrice + selectedColor.discount} ₽</p>\n          )}\n        </div>\n\n        {/* Параметры товара в слайдере */}\n        {targetProduct.parameters?.length > 1 && (\n          <div className=\"parameters-section\">\n            <h3 className=\"parameters-title\">{selectedParameterType}</h3>\n            <div className=\"parameters-content\">\n              <Slider height={\"38px\"} between=\"5px\">\n                {targetProduct.parameters.map((param: any) => {\n                  // Получаем ключ параметра\n                  const paramKey = param.name;\n\n                  // Проверяем, выбран ли данный параметр\n                  const isActive =\n                    selectedParams[paramKey]?.id === param.Parameter_ID;\n\n                  return (\n                    <div\n                      key={`param-${param.Parameter_ID || Math.random()}`}\n                      className={`parameters-item ${isActive ? \"parameters-item--active\" : \"\"}`}\n                      onClick={() =>\n                        addSettingItem(\n                          {\n                            id: param.Parameter_ID,\n                            index: 0,\n                            title: param.parameter_string,\n                            price: param.price || 0,\n                            old_price: param.old_price,\n                          },\n                          param.name\n                        )\n                      }\n                    >\n                      <p className=\"parameters-text\">\n                        {param.parameter_string || \"Без названия\"}\n                      </p>\n                    </div>\n                  );\n                })}\n              </Slider>\n            </div>\n          </div>\n        )}\n\n        {/* Цвета товара в отдельную строку */}\n        {targetProduct.colors?.length > 0 && (\n          <div className=\"color-section\">\n            <h3 className=\"parameters-title\">Цвет</h3>\n            <div className=\"color-options\">\n              <Slider height={\"42px\"} between={\"5px\"}>\n                {targetProduct.colors.map((color: any) => (\n                  <div\n                    key={`color-${color.Color_ID || Math.random()}`}\n                    className={`color-option ${selectedColor?.Color_ID === color.Color_ID ? \"color-option--active\" : \"\"}`}\n                    onClick={() => selectColor(color)}\n                  >\n                    <div\n                      className=\"color-circle\"\n                      style={{ backgroundColor: color.Color_Code || \"#ccc\" }}\n                    />\n                    <p className=\"color-name\">{color.Color_Name}</p>\n                  </div>\n                ))}\n              </Slider>\n            </div>\n          </div>\n        )}\n\n        {/* Кнопка для просмотра видео - показываем только если есть видео */}\n        {targetProduct.reviews_video?.length > 0 &&\n          targetProduct.reviews_video[0]?.Video_URL && (\n            <button onClick={scrollToVideo} className=\"video-button\">\n              <div className=\"video-button-content\">\n                <img\n                  src={`${iconsBaseLink}video-link-icon.svg`}\n                  alt=\"Видео\"\n                  onError={(e) => {\n                    e.currentTarget.src = \"/placeholder-icon.svg\";\n                  }}\n                />\n\n                <p className=\"video-button-text\">Смотреть видео-обзор</p>\n              </div>\n\n              <img\n                src={`${iconsBaseLink}dark-expand-icon.svg`}\n                alt=\"Смотерть\"\n                className=\"expand-icon\"\n                onError={(e) => {\n                  e.currentTarget.src = \"/placeholder-icon.svg\";\n                }}\n              />\n            </button>\n          )}\n\n        {targetProduct.extras?.length > 0 &&\n          targetProduct.extras[0]?.Characteristics && (\n            <div\n              className={`description-block ${isDescriptionOpen ? \"description-block--open\" : \"\"}`}\n            >\n              <div\n                onClick={toggleDescriptionHandler}\n                className=\"description-header\"\n              >\n                <h3 className=\"description-title\">\n                  {dataStore.data?.special_project_parameters\n                    ?.product_page_accordeon_item_header_12_value || \"Описание\"}\n                </h3>\n\n                <button\n                  onClick={toggleDescriptionHandler}\n                  className=\"description-expand-button cursor-pointer\"\n                >\n                  <img\n                    src={`${iconsBaseLink}dark-expand-icon.svg`}\n                    className=\"description-expand-icon\"\n                    alt=\"Развернуть\"\n                    onError={(e) => {\n                      e.currentTarget.src = \"/placeholder-icon.svg\";\n                    }}\n                  />\n                </button>\n              </div>\n\n              <p ref={descriptionRef} className=\"description-text\">\n                {targetProduct.extras[0].Characteristics}\n              </p>\n            </div>\n          )}\n\n        {targetProduct.extras?.length > 0 && targetProduct.extras[0]?.Kit && (\n          <div\n            className={`specs-block ${isSpecsOpen ? \"specs-block--open\" : \"\"}`}\n          >\n            <div onClick={toggleSpecsHandler} className=\"specs-header\">\n              <h3 className=\"specs-title\">\n                {dataStore.data?.special_project_parameters\n                  ?.product_page_accordeon_item_header_34_value ||\n                  \"Характеристики\"}\n              </h3>\n\n              <button\n                onClick={toggleSpecsHandler}\n                className=\"specs-expand-button cursor-pointer\"\n              >\n                <img\n                  src={`${iconsBaseLink}dark-expand-icon.svg`}\n                  className=\"specs-expand-icon\"\n                  alt=\"Развернуть\"\n                  onError={(e) => {\n                    e.currentTarget.src = \"/placeholder-icon.svg\";\n                  }}\n                />\n              </button>\n            </div>\n\n            <p ref={specsRef} className=\"specs-text\">\n              {targetProduct.extras[0].Kit}\n            </p>\n          </div>\n        )}\n\n        {dataStore.data?.special_project_parameters_badges?.length > 0 && (\n          <div className=\"info-cards \">\n            <Slider height={\"100%\"}>\n              {dataStore.data.special_project_parameters_badges\n                .slice(\n                  0,\n                  Math.min(\n                    4,\n                    dataStore.data.special_project_parameters_badges.length\n                  )\n                )\n                .map((badge: any, index: number) => {\n                  const cardInfo =\n                    index < infoCards.length\n                      ? infoCards[index]\n                      : {\n                          title: \"Информация\",\n                          image: `${iconsBaseLink}about-icon.svg`,\n                        };\n\n                  return (\n                    <div\n                      key={badge.id || index}\n                      onClick={() => openLinkTeletype(badge.url || \"#\")}\n                      className=\"info-card click-effect-block\"\n                    >\n                      <p className=\"info-text\">{cardInfo.title}</p>\n\n                      <img\n                        src={cardInfo.image}\n                        alt={cardInfo.title}\n                        className=\"info-icon\"\n                        onError={(e) => {\n                          e.currentTarget.src = \"/placeholder-icon.svg\";\n                        }}\n                      />\n                    </div>\n                  );\n                })}\n            </Slider>\n          </div>\n        )}\n\n        {targetProduct.reviews?.length > 0 && (\n          <div className=\"reviews-block\">\n            <h3 className=\"reviews-title\">Отзывы</h3>\n\n            <Swiper\n              modules={[Pagination]}\n              spaceBetween={10}\n              slidesPerView={1}\n              pagination={{ clickable: true }}\n              className=\"reviews-content\"\n              style={{ width: \"100%\", height: \"100%\" }}\n            >\n              {targetProduct.reviews.map((review: any) => (\n                <SwiperSlide key={review.Photo_ID || Math.random()}>\n                  <div className=\"swiper-slide-content\">\n                    <img\n                      src={review.Photo_URL || \"/placeholder-review.jpg\"}\n                      alt=\"Отзыв пользователя\"\n                      onError={(e) => {\n                        e.currentTarget.src = \"/placeholder-review.jpg\";\n                      }}\n                    />\n                  </div>\n                </SwiperSlide>\n              ))}\n            </Swiper>\n\n            <button className=\"view-all-button\" onClick={handleViewAllReviews}>\n              <p className=\"view-all-text\">Смотреть все отзывы</p>\n            </button>\n          </div>\n        )}\n\n        {targetProduct.reviews_video?.length > 0 && (\n          <VideoReview video={targetProduct.reviews_video[0]} />\n        )}\n\n        <button\n          onClick={() => {\n            if (\n              !isAddToCartEnabled ||\n              (targetProduct.colors?.length > 0 && !selectedColor)\n            ) {\n              showColorRequiredPopup();\n            } else {\n              handleAddToCart();\n            }\n          }}\n          className={`add-to-cart-button click-effect-block \n            ${isAddingToCart ? \"add-to-cart-button--added\" : \"\"}\n            ${!isAddToCartEnabled || (targetProduct.colors?.length > 0 && !selectedColor) ? \"add-to-cart-button--disabled\" : \"\"}\n            ${detectIOS() ? \"add-to-cart-button--ios\" : \"\"}`}\n        >\n          <p className=\"add-to-cart-text\">\n            {isAddingToCart ? \"В корзину\" : \"Добавить в корзину\"}\n          </p>\n        </button>\n      </div>\n\n      {/* Всплывающее сообщение об ошибке */}\n      {errorMessage && (\n        <div className=\"error-popup\">\n          <p>{errorMessage}</p>\n        </div>\n      )}\n\n      {/* Всплывающее сообщение о необходимости выбора цвета */}\n      {colorRequiredPopup && (\n        <div className=\"color-required-popup\">\n          <p>Пожалуйста, выберите цвет товара</p>\n        </div>\n      )}\n    </main>\n  );\n});\n\nexport default ProductContent;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7071, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/utils/ScrollToTop.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nexport const ScrollToTop = ({ children }: { children: React.ReactNode }) => {\r\n  const location = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    })\r\n  }, [location.pathname])\r\n\r\n  return children || null\r\n}\r\n\r\nexport default ScrollToTop\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAiC;IACrE,MAAM,WAAW,CAAA,GAAA,uJAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,OAAO,QAAQ,CAAC;YACd,KAAK;YACL,UAAU;QACZ;IACF,GAAG;QAAC,SAAS,QAAQ;KAAC;IAEtB,OAAO,YAAY;AACrB;uCAEe","debugId":null}},
    {"offset": {"line": 7098, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/user/Desktop/BrandBot/Brandbot/app/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { HashRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\n\r\nimport PageWrapper from \"@/widgets/PageWrapper\";\r\nimport HomePageContent from \"@/widgets/pageContents/HomePageContent\";\r\nimport CatalogContent from \"@/widgets/pageContents/CatalogContent\";\r\nimport FavoritesContent from \"@/widgets/pageContents/FavoritesContent\";\r\nimport ShoppingCartContent from \"@/widgets/pageContents/ShoppingCartContent\";\r\nimport ProductContent from \"@/widgets/pageContents/ProductContent\";\r\n\r\nimport \"@/styles/widgets/homePage.css\";\r\nimport Loading from \"@/shared/Loading\";\r\nimport ScrollToTop from \"@/utils/ScrollToTop\";\r\n\r\n\r\nexport default function Home() {\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsClient(true);\r\n  }, []);\r\n\r\n  if (!isClient) {\r\n    return <main>\r\n      <Loading />\r\n    </main>\r\n  }\r\n\r\n  return (\r\n    <HashRouter>\r\n      <ScrollToTop>\r\n        <PageWrapper>\r\n          <Routes>\r\n            <Route path=\"/\" element={<HomePageContent />} />\r\n            <Route path=\"/catalog\" element={<CatalogContent />} />\r\n            <Route path=\"/favorites\" element={<FavoritesContent />} />\r\n            <Route path=\"/shoppingcart\" element={<ShoppingCartContent />} />\r\n            <Route path=\"/product/:productId\" element={<ProductContent />} />\r\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n          </Routes>\r\n        </PageWrapper>\r\n      </ScrollToTop>\r\n    </HashRouter>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAbA;;;;;;;;;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,YAAY;IACd,GAAG,EAAE;IAEL,IAAI,CAAC,UAAU;QACb,qBAAO,8OAAC;sBACN,cAAA,8OAAC,kHAAA,CAAA,UAAO;;;;;;;;;;IAEZ;IAEA,qBACE,8OAAC,uJAAA,CAAA,aAAU;kBACT,cAAA,8OAAC,qHAAA,CAAA,UAAW;sBACV,cAAA,8OAAC,uHAAA,CAAA,UAAW;0BACV,cAAA,8OAAC,uJAAA,CAAA,SAAM;;sCACL,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAI,uBAAS,8OAAC,2IAAA,CAAA,UAAe;;;;;;;;;;sCACzC,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAW,uBAAS,8OAAC,0IAAA,CAAA,UAAc;;;;;;;;;;sCAC/C,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAa,uBAAS,8OAAC,4IAAA,CAAA,UAAgB;;;;;;;;;;sCACnD,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAgB,uBAAS,8OAAC,+IAAA,CAAA,UAAmB;;;;;;;;;;sCACzD,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAsB,uBAAS,8OAAC,0IAAA,CAAA,UAAc;;;;;;;;;;sCAC1D,8OAAC,uJAAA,CAAA,QAAK;4BAAC,MAAK;4BAAI,uBAAS,8OAAC,uJAAA,CAAA,WAAQ;gCAAC,IAAG;gCAAI,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM7D","debugId":null}}]
}